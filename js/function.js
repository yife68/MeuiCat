let article,lastSayHello="",scrollSelfInfoContentYear="",CACHE_EXPIRATION_TIME=432e5,percentFlag=!1,Interval=null,hoverBarrage=!1;const comment={initBarrage(t){if(!t.length)return;let e=0,n=[],o=document.querySelector("#comment-barrage");clearInterval(Interval),Interval=null,Interval=setInterval((()=>{var a;n.length>=1&&!hoverBarrage&&((a=n.shift()).className="comment-barrage-item out",setTimeout((()=>{o.removeChild(a)}),1e3)),hoverBarrage||(!async function(t){const e=await meuicat.changeTime([t.created]);let a=document.createElement("div");a.className="comment-barrage-item",a.innerHTML=`\n\t\t\t\t<div class="barrageHead">\n\t\t\t\t\t<img class="barrageAvatar" src="${t.avatar}"/>\n\t\t\t\t\t<div class="barrageNick">${t.nick}</div>\n\t\t\t\t\t<div class="barrageTime">è¯„è®ºäº${e[0].timeString}</div>\n\t\t\t\t\t<a class="comment-barrage-close" href="javascript:rm.switchCommentBarrage()" rel="external nofollow noreferrer"><i class="iconfont icat-close"></i></a>\n\t\t\t\t</div>\n\t\t\t\t<a class="barrageContent" href="javascript:void(0);" rel="external nofollow noreferrer" onclick="meuicat.scrollTo('${t.id}');">${t.comment}</a>\n\t\t\t`,n.push(a),o.append(a)}(t[e]),e+=1,e%=t.length)}),5e3),$("#menu-commentBarrage span").text("å…³é—­çƒ­è¯„"),$("#comment-barrage").hover((function(){hoverBarrage=!0,console.log("çƒ­è¯„æ‚¬æµ®")}),(function(){hoverBarrage=!1,console.log("åœæ­¢æ‚¬æµ®")}));const a=btf.throttle((function(){let t=window.scrollY+document.documentElement.clientHeight,e=document.getElementById("post-comment"),n=e.offsetTop+e.offsetHeight/2;document.body.clientWidth>768&&(o.style.bottom=n>t?"40px":"-200px")}),200);document.addEventListener("scroll",a),document.addEventListener("pjax:send",(function(){clearInterval(Interval),document.removeEventListener("scroll",a)}))},fetchData(t,n,o){fetch("https://twikoo.meuicat.com/",{method:"POST",body:JSON.stringify({event:"GET_RECENT_COMMENTS",accessToken:"091e76c30b8bb8bc672808816ceb87e2",includeReply:!0,...t}),headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{let a="",r=t.data;if("total"!==n){if(o)switch(n){case"visitor":r=r.filter((t=>t.mailMd5===o));break;case"v-shield":r=r.filter((t=>t.mailMd5!==o));break;case"a-shield":r=r.filter((t=>t.url!==o))}if("barrage"===n)return this.initBarrage(r);r.forEach((t=>{const o=new Date(t.created),r=`${o.getFullYear().toString().slice(-2)}-${o.getMonth()+1}-${o.getDate()} ${o.getHours()}:${o.getMinutes()}:${o.getSeconds()}`;a+=`<div class="comment-card">\n                <div class="comment-info">\n                    <img src="${t.avatar}" class="nolazyload">\n                    <div class="comment-information">\n                        <span class="${["äº¦å°","äº¦å°å°"].includes(t.nick)?"comment-author":""} comment-user" data-mailMd5="${t.mailMd5}">${t.nick}</span>\n                        <span class="comment-time">${r}</span>\n                    </div>\n                </div>\n                <div class="comment-content">${t.commentText.replaceAll("<","&lt;").replaceAll(">","&gt;")}</div>\n                <div class="comment-more">\n                    <div class="comment-title">\n                        <span class="comment-link" title="æŸ¥çœ‹æ­¤æ–‡ç« " onclick="pjax.loadUrl('${t.url}')">\n                            <i class="iconfont icat-read"></i>\n                            ${article[t.url]}\n                        </span>\n                        <a onclick="pjax.loadUrl('${t.url}#${t.id}')">æŸ¥çœ‹è¯„è®º</a>\n                    </div>\n                    <div class="comment-tool">`;let i='<a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="comment.article(event)" title="æ˜¾ç¤ºæ­¤æ–‡ç« æ‰€æœ‰è¯„è®º">æŸ¥çœ‹æ›´å¤š</a>',c='<a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="comment.article(event, true)" title="ä¸æ˜¾ç¤ºæ­¤æ–‡ç« çš„è¯„è®º">å±è”½æ–‡ç« </a>',l='<a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="comment.visitor(event, true)" title="ä¸æ˜¾ç¤ºè¯¥è®¿å®¢çš„è¯„è®º">å±è”½Ta</a>',s='<a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="comment.visitor(event)" title="æ˜¾ç¤ºè¯¥è®¿å®¢çš„æ‰€æœ‰è¯„è®º">æŸ¥çœ‹Taæ›´å¤šè¯„è®º</a>';switch(e='<a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="comment.data()" title="æŸ¥çœ‹æœ¬ç«™æœ€æ–°è¯„è®º">è¿”å›è¯„è®º</a>',n){case"article":a+=e+l+s;break;case"visitor":a+=e+i+c;break;case"v-shield":case"a-shield":a+=i+c+l+s+e;break;default:n||(a+=i+c+l+s)}a+="</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>"})),document.getElementById("comments-page").innerHTML=a}else{document.querySelectorAll(".length-num.comment-total, .N_comments").forEach((t=>{t.classList.contains("N_comments")?t.innerText=r.length+"æ¡è¯„è®º":t.innerText=r.length}))}}))},visitor(t,e){const n=t.target.closest(".comment-card").querySelector(".comment-user").getAttribute("data-mailMd5");e?this.fetchData({pageSize:-1},"v-shield",n):this.fetchData({pageSize:-1},"visitor",n)},article(t,e){const n=t.target.closest(".comment-card").querySelector(".comment-link").getAttribute("onclick").match(/'(\/.*?)'/)[1];e?this.fetchData({pageSize:-1},"a-shield",n):this.fetchData({urls:[n]},"article")},data(){article||fetch("/articles.json").then((t=>t.json())).then((t=>{article={},[...t.post,...t.page].forEach((t=>{article[t.link]=t.title}))})),this.fetchData({pageSize:100})}},CACHE_POST_COVER="post_cover",meuicat={toPage:function(){var t=document.querySelectorAll(".page-number"),e=parseInt(t[t.length-1].innerHTML),n=document.getElementById("toPageText"),o=parseInt(n.value);if(!isNaN(o)&&o>0&&"0"!==(""+o)[0]&&o<=e){var a=1==o?"/":"/page/"+o+"/#content-inner";document.getElementById("toPageButton").href=a}},listenToPageInputPress(){var t=document.getElementById("toPageText"),e=document.getElementById("toPageButton");t&&(t.addEventListener("keydown",(t=>{13===t.keyCode&&(meuicat.toPage(),pjax.loadUrl(e.href))})),t.addEventListener("input",(function(){""===t.value||"0"===t.value?e.classList.remove("haveValue"):e.classList.add("haveValue");var n=document.querySelectorAll(".page-number"),o=+n[n.length-1].innerHTML;+document.getElementById("toPageText").value>o&&(t.value=o)})))},photos:function(t){let e="https://memos.meuicat.com";fetch(t?`${e}/api/v1/memo?creatorId=1&tag=${t}`:`${e}/api/v1/memo?creatorId=1&tag=2023`).then((t=>t.json())).then((t=>{let n="",o=[];t.forEach((t=>{let n=t.content.match(/\!\[.*?\]\(.*?\)/g);n&&(o=o.concat(n)),t.resourceList.length&&t.resourceList.forEach((t=>{t.externalLink?o.push(`![](${t.externalLink})`):o.push(`![](${e}/o/r/${t.id}/${t.publicId}/${t.filename})`)}))})),o&&o.forEach((t=>{let e,o,a=t.replace(/!\[.*?\]\((.*?)\)/g,"$1"),r=t.replace(/!\[(.*?)\]\(.*?\)/g,"$1");-1!=r.indexOf(" ")?(e=r.split(" ")[0],o=r.split(" ")[1]):o=r,n+=`<div class="gallery-photo"><a href="${a}" data-fancybox="gallery" class="fancybox" data-thumb="${a}"><img class="no-lazyload photo-img" loading='lazy' decoding="async" src="${a}"></a>`,o&&(n+=`<span class="photo-title">${o}</span>`),e&&(n+=`<span class="photo-time">${e}</span>`),n+="</div>"})),document.querySelector(".gallery-photos.page").innerHTML=n,imgStatus.watch(".photo-img",(()=>{waterfall(".gallery-photos"),meuicat.percent()})),window.Lately&&Lately.init({target:".photo-time"})})).catch();var n=document.querySelectorAll(".status-bar-item");n[1].classList.add("selected"),Array.from(n).forEach((function(t){t.onclick=function(e){var n=document.querySelectorAll(".status-bar-item.selected");return Array.from(n).forEach((function(t){t.classList.remove("selected")})),t.classList.add("selected"),e.stopPropagation(),e.preventDefault(),!1}}))},waterfall:function(){document.getElementById("waterfall")&&setTimeout((()=>{waterfall("#waterfall")}),500)},timeDiff:(t,e)=>{const n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),o=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-n;return Math.floor(o/864e5)},changeTime:function(t=null){const e=new Date,n=t=>{const n=new Date(t),o=meuicat.timeDiff(n,e);let a;return a=0===o?"æœ€è¿‘":1===o?"æ˜¨å¤©":2===o?"å‰å¤©":o<=7?`${o}å¤©å‰`:n.getFullYear()!==e.getFullYear()?`${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`:`${n.getMonth()+1}/${n.getDate()}`,a};if(t)return t.map((t=>({timeString:n(t)})));Array.from(document.getElementsByTagName("time")).forEach((t=>{const e=t.getAttribute("datetime");t.textContent=n(e)}))},reflashWaterFall:function(){document.querySelector("#waterfall")&&setTimeout((function(){meuicat.waterfall(),document.getElementById("waterfall").classList.add("show")}),300)},commentText:function(t){const e=["#wl-edit",".el-textarea__inner"];for(let n=0;n<e.length;n++){let o=document.querySelector(e[n]);null!=o&&(o.dispatchEvent(new Event("input",{bubble:!0,cancelable:!0})),o.value="> "+t.replace(/\n/g,"\n> ")+"\n\n",o.focus(),o.setSelectionRange(-1,-1))}const n=document.querySelector("#comment-tips");n&&(n.classList.add("show"),setTimeout((function(){n.classList.remove("show")}),3e3))},initEssay:function(){if(document.querySelector("#essay-mini")){new Swiper(".swiper-container",{direction:"vertical",loop:!0,autoplay:{delay:3e3,pauseOnMouseEnter:!0}})}},tagsBarActive:function(){var t=decodeURIComponent(window.location.pathname).match(/\/(tags|categories)\/.*?\//),e=document.querySelector("#category-bar");if(t&&e){var n=t[0].split("/")[2];document.getElementById(n).classList.add("select")}},statusbar:function(t){const e=document.getElementById(t);if(e){const n="category-bar-items"===t?"category-bar-button":"status-bar-button",o=document.getElementById(n),a=e.scrollWidth-e.clientWidth;e.scrollLeft+e.clientWidth>=a-8?e.scrollTo({left:0,behavior:"smooth"}):e.scrollBy({left:e.clientWidth,behavior:"smooth"}),e.addEventListener("scroll",(function(){o.style.transform=e.scrollLeft+e.clientWidth>=a-8?"rotate(180deg)":""}),{once:!0})}},logInfo:function(){console.log(`Welcome to:\n%cMeuiCat V3.8.0:%c https://meuicat.com/update/%c\nThis site has been running stably for %c${Math.round(((new Date).getTime()-new Date("2021/10/15 01:32:00").getTime())/864e5)} %c days`,"border:1px #888 solid;border-right:0;border-radius:5px 0 0 5px;padding: 5px 10px;color:white;background:#0084FF;margin:10px 0","border:1px #888 solid;border-left:0;border-radius:0 5px 5px 0;padding: 5px 10px;","","color:#0084FF","")},Weixin:function(){/MicroMessenger/i.test(navigator.userAgent)?window.location.href="https://mp.weixin.qq.com/mp/profile_ext?action=home&__biz=MzkxNzEyNjYxMw==#wechat_redirect":window.open("/wechatOA/")},wowbox:function(t,e){if(!e)return t.classList.add("wow"),t.classList.add("animate__fadeIn"),t.setAttribute("data-wow-duration",""),t.setAttribute("data-wow-delay",""),t.setAttribute("data-wow-offset",""),void t.setAttribute("data-wow-iteration","");t.classList.add("wow"),t.classList.add("animate__fadeIn"),t.setAttribute("data-wow-duration","1s"),t.setAttribute("data-wow-delay","200ms"),t.setAttribute("data-wow-offset","100"),t.setAttribute("data-wow-iteration","1")},wowanimation:function(){let t=document.querySelector(".essay-mini"),e=document.querySelector(".random-list"),n=document.querySelectorAll(".recent-post-item"),o=document.querySelectorAll(".card-widget");if(t&&meuicat.wowbox(t),e&&meuicat.wowbox(e),n)for(var a=0;a<n.length;a++)meuicat.wowbox(n[a]);if(o)for(a=0;a<o.length;a++)meuicat.wowbox(o[a],!1);wow=new WOW({boxClass:"wow",animateClass:"animation-slide-in",offset:0,mobile:!0,live:!0}),wow.init()},homeplatform:function(){fetch("https://cdn.meuicat.com/gh/yife/platform.json").then((t=>t.json())).then((t=>{document.querySelectorAll("#icat-platform").forEach((e=>{const n=e.parentNode.querySelector(".article-title").getAttribute("href");if(t[n]){let o="";for(const e in t[n]){let a="";switch(e){case"wechat":a="wechat",platformtitle="å¾®ä¿¡å…¬ä¼—å·";break;case"jianshu":a="jianshu",platformtitle="ç®€ä¹¦";break;case"zhihu":a="zhihu",platformtitle="çŸ¥ä¹";break;case"juejin":a="juejin",platformtitle="ç¨€åœŸæ˜é‡‘";break;case"yixiaofeng":a="yixiaofeng",platformtitle="å¼€å‘è€…åšå®¢"}o+=`<a class="${a}" title="è¯¥æ–‡ç« å·²åœ¨${platformtitle}ä¸­åŒæ­¥æ›´æ–°" href="${t[n][e]}" target="_blank"><i class="iconfont icat-${a}"></i></a>`}e.innerHTML=`<span>æœ¬æ–‡åŒæ­¥è‡³ï¼š</span><div class="platform-box">${o}</div>`}else e.innerHTML='<span title="è¯¥æ–‡ç« åœ¨åšå®¢é¦–å‘" onclick="pjax.loadUrl(\'/subscribe/\')">åšå®¢ç‹¬äº«</span>'}))}))},postplatform:function(){fetch("https://cdn.meuicat.com/gh/yife/platform.json").then((t=>t.json())).then((t=>{document.querySelectorAll("#icat-meta-platform").forEach((e=>{const n=window.location.pathname;if(t[n]){let o=[];for(const e in t[n]){let a="",r="",i="";switch(e){case"wechat":a="wechat",r="å¾®ä¿¡å…¬ä¼—å·",i="äº¦å°å°";break;case"jianshu":a="jianshu",r="ç®€ä¹¦",i="äº¦å°å°";break;case"zhihu":a="zhihu",r="çŸ¥ä¹",i="äº¦å°";break;case"juejin":a="juejin",r="ç¨€åœŸæ˜é‡‘",i="äº¦å°";break;case"yixiaofeng":a="yixiaofeng",r="å¼€å‘è€…åšå®¢",i="äº¦å°å°"}o.push(`<a class="${a}" title="IDï¼š${i}" href="${t[n][e]}" target="_blank"><i class="iconfont icat-${a}"></i>${r}</a>`)}if(o.length>0){const t=2===o.length?"&nbsp;ã€":"ï¼Œ",n=o.join(t);e.innerHTML=`æœ¬æ–‡å°†ä¸${n}è¿›è¡ŒåŒæ­¥æ›´æ–°`}else e.innerHTML='<span title="æŸ¥çœ‹æ›´å¤šæ›´æ–°å’Œè®¢é˜…ç»†åˆ™" onclick="pjax.loadUrl(\'/subscribe/\')">æœ¬æ–‡ç”±åšå®¢é¦–å‘ã€ç‹¬äº«</span>'}else e.innerHTML='<span title="æŸ¥çœ‹æ›´å¤šæ›´æ–°å’Œè®¢é˜…ç»†åˆ™" onclick="pjax.loadUrl(\'/subscribe/\')">æœ¬æ–‡ç”±åšå®¢é¦–å‘ã€ç‹¬äº«</span>'}))}))},addScript(t,e,n){if(document.getElementById(t))return n?n():void 0;let o=document.createElement("script");o.src=e,o.id=t,n&&(o.onload=n),document.head.appendChild(o)},getIpInfo:function(){fetch("https://api.qjqq.cn/api/Local").then((t=>t.json())).then((t=>{var e=t.ip,n=t.data.country,o=t.data.prov,a=t.data.city,r=t.data.district,i=t.data.radius,c=Math.floor(i),l=t.data.isp;document.getElementById("userAgentIp").innerHTML=e,document.getElementById("userAgentCountry").innerHTML=n,document.getElementById("userAgentProv").innerHTML=o,document.getElementById("userAgentCity").innerHTML=a,document.getElementById("userAgentDistrict").innerHTML=r,document.getElementById("userAgentRadius").innerHTML=c+"å…¬é‡Œ",document.getElementById("userAgentISP").innerHTML=l;var s=(new UAParser).getResult();document.getElementById("userAgentOS").innerHTML=s.os.name+" "+s.os.version,document.getElementById("userAgentBrowser").innerHTML=s.browser.name+" "+s.browser.version}))},postai:function(){const t=window.location.pathname;fetch("https://cdn.meuicat.com/gh/yife/abstract.json").then((t=>t.json())).then((e=>{if(t in e){const n=document.createElement("div");n.id="post-ai",n.innerHTML='\n\t\t\t\t<div class="ai-title">\n\t\t\t\t  <a class="ai-title-left" href="/blog/42#Aiæ–‡ç« æ‘˜è¦" title="æŸ¥çœ‹éƒ¨ç½²" data-pjax-state="">\n\t\t\t\t\t<i class="iconfont icat-Ai-Summary"></i>\n\t\t\t\t\t<div class="ai-title-text">æ–‡ç« æ‘˜è¦</div>\n\t\t\t\t  </a>\n\t\t\t\t  <div class="ai-tag">iCatGPT</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="ai-explanation" style="display: block;">\n\t\t\t\t  åŠ è½½ä¸­...<span class="blinking-cursor"></span>\n\t\t\t\t</div>\n\t\t\t  ';const o=document.querySelector("#post #article-container");o.insertBefore(n,o.firstChild);const a=document.querySelector(".ai-explanation"),r=e[t],i=r.length;let c=0,l=document.querySelector(".blinking-cursor");const s=Math.floor(3*Math.random())+1;setTimeout((()=>{a.innerHTML="",a.appendChild(l);const t=setInterval((()=>{l.parentNode.removeChild(l),a.innerHTML+=r[c],a.appendChild(l),c++,c===i&&(clearInterval(t),l.parentNode.removeChild(l))}),90)}),1e3*s)}})).catch((t=>console.error(t)))},all_tags:function(){document.querySelectorAll("#aside-content .card-tag-cloud").forEach((function(t){t.classList.add("all-tags")}));var t=document.getElementById("more-tags-btn");t&&t.parentNode.removeChild(t)},TagsRandom:function(t){return Math.floor(Math.random()*t)},Tagscolor:function(){const t=document.querySelectorAll("#aside-content .card-tag-cloud a"),e=[];for(;e.length<5;){const n=meuicat.TagsRandom(t.length);e.includes(n)||(e.push(n),t[n].style.color="var(--icat-blue)")}},Introduction:function(){const t=["ğŸ¤–ï¸ æ•°ç ç§‘æŠ€çˆ±å¥½è€…","ğŸ” åˆ†äº«ä¸çƒ­å¿ƒå¸®åŠ©","ğŸ  æ™ºèƒ½å®¶å±…å°èƒ½æ‰‹","ğŸ”¨ è®¾è®¡å¼€å‘ä¸€æ¡é¾™","ğŸ“· äººæ–‡æ‘„å½±çš„åšå®šè€…","ğŸƒ è„šè¸å®åœ°è¡ŒåŠ¨æ´¾","ğŸ“š çƒ­çˆ±é˜…è¯»çš„ä¹¦è™«è¿·","ğŸµ è–›ä¹‹è°¦å…«å¹´çƒ­çˆ±ç²‰","ğŸ‹ï¸â€â™€ï¸ åšéŸ§ä¸æ‹”çš„å¥èº«è¾¾äºº","ğŸœ èµ°å“ªåƒå“ªçš„ç¾é£Ÿè¿·","ğŸ® Minecraftéª¨ç°çº§ç©å®¶","ğŸ‘¨â€ğŸ³ ä¸€ä½çˆ±åšé¥­çš„ç¨‹åºçŒ¿"],e=document.getElementById("Introduction");let n=t[Math.floor(Math.random()*t.length)];for(;n===lastSayHello;)n=t[Math.floor(Math.random()*t.length)];e.textContent=n,lastSayHello=n},runtimen:function(){let t=new Date("2021/10/15 00:00:00").getTime(),e=(new Date).getTime(),n=(Math.round((e-t)/1e3)/7884e4).toFixed(2),o=document.getElementById("run-time");o&&(o.innerHTML=`å·²ç¨³å®šè¿è¡Œ ${n} å¤å¹´ ğŸ€`),setTimeout(meuicat.runtime,1e3)},fiftyonela:function(){fetch("https://v6-widget.51.la/v6/K05NsEfoZbXF1Nxt/quote.js").then((t=>t.text())).then((t=>{let e=["ä»Šæ—¥äººæ•°","ä»Šæ—¥è®¿é—®","æ˜¨æ—¥äººæ•°","æ˜¨æ—¥è®¿é—®","æœ¬æœˆè®¿é—®"],n=t.match(/(<\/span><span>).*?(\/span><\/p>)/g);n=n.map((t=>t.replace(/(<\/span><span>)/g,"").replace(/(<\/span><\/p>)/g,"")));let o=document.getElementById("statistic"),a=n[0],r=document.querySelector(".T-box");r&&(r.innerHTML="æœ€è¿‘æ´»è·ƒï¼š"+a+"&ensp;|&ensp;"+r.innerHTML);for(let t=0;t<n.length;t++){if(!o)return;0!=t&&t!=n.length-1&&(o.innerHTML+='<div><span class="tips">'+e[t-1]+"</span><span id="+e[t-1]+">"+n[t]+"</span></div>")}}))},owoBig:function(){let t=document.getElementById("owo-big");t&&t.parentNode.removeChild(t);let e=1,n="",o=document.createElement("div"),a=document.querySelector("body");o.id="owo-big",a.appendChild(o),new MutationObserver((t=>{for(let r=0;r<t.length;r++){let i=t[r].addedNodes,c="";2==i.length&&"OwO-body"==i[1].className&&(c=i[1],document.body.clientWidth<=768&&c.addEventListener("contextmenu",(t=>t.preventDefault())),c.onmouseover=t=>{e&&"IMG"==t.target.tagName&&(e=0,n=setTimeout((()=>{let e=3*t.target.clientHeight,n=3*t.target.clientWidth,r=t.x-t.offsetX-(n-t.target.clientWidth)/2,i=t.y-t.offsetY;r+n>a.clientWidth&&(r-=r+n-a.clientWidth+10),r<0&&(r=10),o.style.cssText=`display:flex; height:${e}px; width:${n}px; left:${r}px; top:${i}px;`,o.innerHTML=`<img src="${t.target.src}">`}),300))},c.onmouseout=()=>{o.style.display="none",e=1,clearTimeout(n)})}})).observe(document.getElementById("post-comment"),{subtree:!0,childList:!0})},copyToClipboard:function(t){const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},ArticleContent:function(){const t=document.querySelector("#article-container");if(!t)return"æœªèƒ½æˆåŠŸè·å–åˆ°å†…å®¹ï¼Œè¯·ç¨åé‡è¯•ï¼";const e=t.cloneNode(!0),n=e.querySelectorAll(".aplayer, .toggle, .gallery, .highlight"),o=e.querySelector("#post-ai");n.forEach((t=>t.remove())),o&&o.remove();const a=e.innerText.trim().replace(/\n+/g,"\n\n");return console.log("æœ¬ç¯‡æ–‡ç« å†…å®¹ä¸ºï¼š\n\n"+a),meuicat.copyToClipboard(a),"å·²å¤åˆ¶æœ¬ç¯‡å†…å®¹~"},swiper(){var t=new Swiper("#RollBox",{passiveListeners:!0,loop:!0,autoplay:{disableOnInteraction:!0,delay:5e3},mousewheel:!0,pagination:{el:".swiper-pagination",clickable:!0}}),e=document.getElementById("Sticky-Posts");null!==e&&(e.onmouseenter=()=>{t.autoplay.stop()},e.onmouseleave=()=>{t.autoplay.start()})},getRandomElementsFromArray:function(t,e){const n=t.length,o=new Set;for(;o.size<e;){const e=Math.floor(Math.random()*n);o.add(t[e])}return Array.from(o)},renderingPosts:function(t){const e=meuicat.getRandomElementsFromArray(t,4).map((t=>`\n\t\t<div class="post_item">\n\t\t\t<a class="post_box" title="${t.title}" href="javascript:void(0)" rel="external nofollow noreferrer" onclick="pjax.loadUrl('${t.link}')">\n\t\t\t\t<div class="post-info">\n\t\t\t\t\t<p class="post-title">\n\t\t\t\t\t\t${t.title}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div class="info-box">\n\t\t\t\t\t\t<span>${t.time}</span>\n\t\t\t\t\t\t<span style="margin: 0 6px">|</span>\n\t\t\t\t\t\t<span>${t.categories}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<p class="post_description">\n\t\t\t\t\t${t.description}\n\t\t\t\t</p>\n\t\t\t</a>\n\t\t</div>`)).join("");document.querySelector(".banner-random>.random-list").innerHTML=e},RandomPosts:function(){var t=sessionStorage.getItem("postsInfo"),e=sessionStorage.getItem("postsInfoTimestamp");t&&e&&Date.now()-e<CACHE_EXPIRATION_TIME?meuicat.renderingPosts(JSON.parse(t).post):fetch("/articles.json").then((t=>t.json())).then((t=>{sessionStorage.setItem("postsInfo",JSON.stringify(t)),sessionStorage.setItem("postsInfoTimestamp",Date.now()),meuicat.renderingPosts(t.post)}))},RandomBar:function(t){const e=document.querySelector(".random-list");"prev"===t?e.scrollLeft-=210:"next"===t&&(e.scrollLeft+=210)},MemorialDayDate:function(){var t=new Date,e=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2);return["0707","0909","0918","1109","1213"].includes(e+n)},MemorialDay:function(){if(meuicat.MemorialDayDate()){var t=document.documentElement;t.style.filter="grayscale(100%)",t.style.webkitFilter="grayscale(100%)",t.style.MozFilter="grayscale(100%)",t.style.msFilter="grayscale(100%)",t.style.OFilter="grayscale(100%)"}},post_cover:function(){document.documentElement.style.setProperty("--icat-post-bg","var(--icat-blue)");const t=document.querySelector(".icat-post-cover img");if(!t)return void console.error("æœªæ‰¾åˆ°å°é¢å›¾åƒsrc");const e=t.getAttribute("src"),n=JSON.parse(localStorage.getItem("post_cover"))||{};!n[e]||n[e].expiration<Date.now()?meuicat.im2color(e):(document.documentElement.style.setProperty("--icat-post-bg",n[e].color),t.style.setProperty("opacity",".9","important"))},im2color:function(t){const e="https://img2color.meuicat.com/api?img="+encodeURIComponent(t);fetch(e).then((t=>t.json())).then((e=>{const n=e.RGB;document.documentElement.style.setProperty("--icat-post-bg",n);const o=Date.now()+CACHE_EXPIRATION_TIME,a=JSON.parse(localStorage.getItem("post_cover"))||{};a[t]={color:n,expiration:o},localStorage.setItem("post_cover",JSON.stringify(a));const r=document.querySelector(".icat-post-cover img");r&&r.style.setProperty("opacity",".9","important")})).catch((t=>{console.error("è·å–é¢œè‰²æ—¶å‡ºé”™ï¼š",t)}))},percent:function(){percentFlag||(window.requestAnimationFrame((()=>{let t=document.documentElement.scrollTop||window.pageYOffset,e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,n=Math.round(t/e*100),o=document.querySelector(".scroll-percent"),a=document.querySelector("#page-header"),r=document.querySelector("#rightside"),i=window.scrollY+document.documentElement.clientHeight;"undefined"===n&&(r.style.cssText="opacity: ''; transform: ''"),(document.getElementById("post-comment")||document.getElementById("footer")).offsetTop<i||n>95?document.querySelector("#go-up").classList.remove("show-percent"):(document.querySelector("#go-up").classList.add("show-percent"),n>=0&&(a.classList.add("nav-fixed"),r.style.cssText="opacity: 0.8; transform: translateX(-58px)",o.innerHTML=n+""),0===n&&(a.classList.remove("nav-fixed","nav-visible"),r.style.cssText="opacity: ''; transform: ''")),percentFlag=!1})),percentFlag=!0)},scrollTo:function(t){const e=document.getElementById(t);if(e){const t=e.getBoundingClientRect().top+window.pageYOffset-80,n=window.pageYOffset,o=t-n;let a=null;window.requestAnimationFrame((function t(e){a||(a=e);const r=e-a,i=(c=Math.min(r/0,1))<.5?2*c*c:(4-2*c)*c-1;var c;window.scrollTo(0,n+o*i),r<600&&window.requestAnimationFrame(t)}))}},toggleInfo:function(t,e){var n=document.querySelector(t),o=document.querySelector(e);n&&n.classList.toggle("show"),o&&o.classList.toggle("show")},toggleinit:function(){$(".rss-plan-mail").on("click",(function(){meuicat.toggleInfo(".submit-box","#follow")})),$(".social-btn").on("click",(function(){meuicat.toggleInfo(".card-info-social-icons",".social-btn")})),$(".banner-btn").on("click",(function(){meuicat.toggleInfo(".banner-bg",".banner-btn")}))},pwa_init(){window.location.href.includes("http://localhost")||"serviceWorker"in navigator&&(navigator.serviceWorker.register("/service-worker.js").then((t=>{t.waiting?meuicat.notifyUserReady():t.installing?meuicat.trackInstalling(t.installing):t.addEventListener("updatefound",(()=>{meuicat.trackInstalling(t.installing)}))})).catch((t=>{console.error("Service Worker registration failed:",t)})),navigator.serviceWorker.addEventListener("controllerchange",(()=>{meuicat.notifyUserReady(!0)})))},trackInstalling(t){t.addEventListener("statechange",(()=>{"installed"===t.state&&navigator.serviceWorker.controller&&meuicat.notifyUserReady(!0)}))},notifyUserReady(t){btf.snackbarShow("PWA å·²å°±ç»ªï¼",!1,3e3),t&&location.reload(!0)}};