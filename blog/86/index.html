<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"><title>Butterfly的魔改教程：右键菜单 | 爱吃肉的猫</title><meta name="author" content="亦小封"><meta name="copyright" content="亦小封"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="轻量级自定义右键菜单，小白也能直接上手~"><meta property="og:type" content="article"><meta property="og:title" content="Butterfly的魔改教程：右键菜单"><meta property="og:url" content="https://vercel.meuicat.com/blog/86/index.html"><meta property="og:site_name" content="爱吃肉的猫"><meta property="og:description" content="轻量级自定义右键菜单，小白也能直接上手~"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://img.meuicat.com/posts/2024/4/1.webp"><meta property="article:published_time" content="2024-04-01T13:00:28.000Z"><meta property="article:modified_time" content="2024-04-10T11:56:22.193Z"><meta property="article:author" content="亦小封"><meta property="article:tag" content="Butterfly主题"><meta property="article:tag" content="魔改记录"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://img.meuicat.com/posts/2024/4/1.webp"><link rel="shortcut icon" href="/media/favicon.ico"><link rel="canonical" href="https://vercel.meuicat.com/blog/86/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="var(--icat-blue)"><link rel="mask-icon" href="https://img.meuicat.com/blog/pwa/apple-icon-180.png" color="#5bbad5"><link rel="apple-touch-icon" sizes="180x180" href="https://img.meuicat.com/blog/pwa/apple-icon-180.png"><link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://img.meuicat.com/blog/pwa/apple-icon-180.png"><link rel="icon" type="image/png" sizes="32x32" href="https://img.meuicat.com/blog/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://img.meuicat.com/blog/pwa/16.png"><link rel="bookmark" href="https://img.meuicat.com/blog/pwa/apple-icon-180.png"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2048x2732.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2732x2048.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1668x2388.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2388x1668.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1536x2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2048x1536.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1668x2224.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2224x1668.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1620x2160.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2160x1620.png" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1290x2796.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2796x1290.png" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1179x2556.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2556x1179.png" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1248x2778.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2778x1248.png" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1170x2532.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2532x1170.png" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1125x2436.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2436x1125.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1242x2688.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2688x1242.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/828x1792.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1792x828.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1242x2208.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/2208x1242.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/750x1334.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1334x750.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/640x1136.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"><link rel="apple-touch-startup-image" href="https://img.meuicat.com/blog/pwa/siteicon/1136x640.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"><link rel="stylesheet" href="/css/meuicat.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.staticfile.net/fancyapps-ui/5.0.19/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"53DOAFNQ1H",apiKey:"f2cfc0d5f9e8b810e38916672f9b9fa5",indexName:"meuicat-search-vercel",hits:{per_page:6},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:80,languages:{author:"作者: 亦小封",link:"链接: ",source:"来源: 爱吃肉的猫",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-center"},source:{justifiedGallery:{js:"https://cdn.staticfile.net/flickr-justified-gallery/2.1.2/fjGallery.min.js",css:"https://cdn.staticfile.net/flickr-justified-gallery/2.1.2/fjGallery.min.css"}},isPhotoFigcaption:!0,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Butterfly的魔改教程：右键菜单",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-04-10 19:56:22"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.getCSS=(e,t=!1)=>new Promise(((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onerror=n,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,o())},document.head.appendChild(a)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=(new Date).getHours();void 0===t?o<=7||o>=18?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode();/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="https://cdn2.codesign.qq.com/icons/XMx86jzlQw0brz3/latest/iconfont.css"><link rel="stylesheet" href="https://font.sec.miui.com/font/css?family=MiSans:400,500,700:Chinese_Simplify,Latin&display=swap"><style id="barragesColor"></style><script async src="/js/statistics.js"></script><link rel="stylesheet" href="https://cdn.staticfile.net/Swiper/10.3.1/swiper-bundle.min.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="爱吃肉的猫" type="application/rss+xml"></head><body><div id="loading-box" onclick="loading.out()"><div class="loading-bg"></div><div class="loading-animation"><svg class="loading" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><path pathLength="360" d="M56.3752 2H7.6248C7.2797 2 6.9999 2.268 6.9999 2.5985V61.4015C6.9999 61.7321 7.2797 62 7.6248 62H56.3752C56.7203 62 57.0001 61.7321 57.0001 61.4015V2.5985C57.0001 2.268 56.7203 2 56.3752 2Z"></path><path class="color" pathLength="360" d="M55.7503 60.803H8.2497V3.1971H55.7503V60.803Z"></path><path class="color" pathLength="360" d="M29.7638 47.6092C29.4971 47.3997 29.1031 47.4368 28.8844 47.6925 28.6656 47.9481 28.7046 48.3253 28.9715 48.5348L32.8768 51.6023C32.9931 51.6936 33.1333 51.738 33.2727 51.738 33.4533 51.738 33.6328 51.6634 33.7562 51.519 33.975 51.2634 33.936 50.8862 33.6692 50.6767L29.7638 47.6092Z"></path><path class="color" pathLength="360" d="M42.3557 34.9046C38.4615 34.7664 36.9617 37.6749 36.7179 39.2213L35.8587 44.2341C35.8029 44.5604 36.0335 44.8681 36.374 44.9218 36.4084 44.9272 36.4424 44.9299 36.476 44.9299 36.7766 44.9299 37.0415 44.7214 37.0918 44.4281L37.9523 39.4076C37.9744 39.2673 38.544 35.9737 42.311 36.1007 42.6526 36.1124 42.9454 35.8544 42.9577 35.524 42.9702 35.1937 42.7006 34.9164 42.3557 34.9046Z"></path><path pathLength="360" d="M13.1528 55.5663C13.1528 55.8968 13.4326 56.1648 13.7777 56.1648H50.2223C50.5674 56.1648 50.8472 55.8968 50.8472 55.5663V8.4339C50.8472 8.1034 50.5674 7.8354 50.2223 7.8354H13.7777C13.4326 7.8354 13.1528 8.1034 13.1528 8.4339V55.5663Z"></path><path pathLength="360" d="M25.3121 26.5567C24.9717 27.4941 25.0042 28.8167 25.0634 29.5927 23.6244 29.8484 20.3838 31.0913 18.9478 37.0352 18.5089 37.5603 17.8746 38.1205 17.2053 38.7114 16.2598 39.546 15.2351 40.4515 14.4027 41.5332V20.5393H23.7222C23.7178 22.6817 24.1666 25.4398 25.3121 26.5567Z"></path><path pathLength="360" d="M49.5975 43.4819C48.3838 39.1715 46.3138 33.6788 43.4709 29.7736 42.6161 28.5995 40.7095 27.0268 39.6852 26.1818L39.6352 26.1405C39.4176 24.783 39.1158 22.5803 38.8461 20.5394H49.5976V43.4819Z"></path><path class="color" pathLength="360" d="M29.8161 45.151C29.0569 44.7516 28.3216 44.4344 27.6455 44.185 27.6488 44.0431 27.6397 43.8917 27.6478 43.7715 27.9248 39.7036 30.4491 36.2472 35.1502 33.4979 38.7221 31.4091 42.2682 30.5427 42.3036 30.5341 42.3563 30.5213 42.416 30.5119 42.4781 30.5037 42.6695 30.7681 42.8577 31.0407 43.0425 31.3217 42.1523 31.4917 39.6591 32.0721 37.0495 33.6188 34.2273 35.2912 30.7775 38.4334 29.9445 44.0105 29.9025 44.2924 29.8211 45.0524 29.8161 45.151Z"></path><path pathLength="360" d="M32.2021 33.6346C29.1519 33.8959 26.6218 32.5634 25.6481 31.4461 25.9518 30.3095 28.4436 28.4847 30.2282 27.4911 30.436 27.3755 30.5563 27.1556 30.5372 26.9261L30.4311 25.6487C30.5264 25.6565 30.622 25.6621 30.7181 25.6642L30.8857 25.6672C32.0645 25.6912 33.2094 25.302 34.1059 24.5658L34.112 24.5607 34.4024 32.5344C33.8302 32.8724 33.2863 33.2227 32.7728 33.5852 32.5227 33.6032 32.3068 33.6258 32.2021 33.6346Z"></path><path pathLength="360" d="M27.8056 17.9207C27.8041 17.9207 27.8025 17.9207 27.8012 17.9207L27.0155 17.9259 26.8123 15.4718C26.8174 15.4609 26.8238 15.4501 26.8282 15.4389 27.2218 15.0856 28.158 14.3463 29.1923 14.252 31.0985 14.0778 33.442 14.3386 33.8213 16.5565L34.0564 23.0299 33.2927 23.6566C32.6306 24.2004 31.7888 24.4889 30.9118 24.4703L30.7437 24.4673C29.7977 24.4473 28.8841 24.0555 28.2376 23.3933 27.9671 23.1152 27.748 22.7967 27.5871 22.4474 27.426 22.0961 27.3292 21.7272 27.2989 21.3494L27.1145 19.1223 27.8097 19.1178C28.1548 19.1154 28.4327 18.8457 28.4303 18.5152 28.4278 18.186 28.1487 17.9207 27.8056 17.9207Z"></path><path pathLength="360" d="M38.4358 26.5433C38.4589 26.6829 38.5326 26.8101 38.6443 26.9026L38.8697 27.0889C39.5266 27.6307 40.6931 28.5938 41.5811 29.4829 40.6409 29.7428 38.2545 30.4762 35.6283 31.8516L35.3161 23.281C35.316 23.2777 35.3158 23.2743 35.3157 23.271L35.0692 16.4785C35.0682 16.455 35.0659 16.4316 35.0621 16.4082 34.6703 13.9692 32.4875 12.7498 29.0741 13.0603 28.5659 13.1067 28.0885 13.255 27.6614 13.4468 28.321 12.6324 29.4568 11.8605 31.3984 11.8605 32.892 11.8605 34.2086 12.4323 35.3118 13.5599 36.3478 14.6187 36.9981 15.9821 37.1923 17.5023 37.5097 19.987 38.0932 24.4655 38.4358 26.5433Z"></path><path pathLength="360" d="M25.6994 17.1716 26.053 21.4425C26.094 21.9536 26.225 22.4539 26.4434 22.93 26.6613 23.403 26.9574 23.8335 27.3242 24.2106 27.833 24.7317 28.4641 25.128 29.1549 25.3746L29.2609 26.6526C28.8063 26.9219 27.959 27.4459 27.0978 28.0926 26.7982 28.3177 26.5261 28.5365 26.2766 28.7503 26.2677 27.9385 26.3477 27.0941 26.6128 26.699 26.7087 26.5561 26.7368 26.3807 26.6898 26.2168 26.6428 26.0528 26.5253 25.9159 26.3667 25.8398 25.2812 25.3198 24.639 20.7943 25.134 18.7283 25.2757 18.1366 25.4822 17.6126 25.6994 17.1716Z"></path><path pathLength="360" d="M14.4025 54.9677V43.9616C15.1297 42.1745 16.6798 40.8031 18.052 39.5917 18.5756 39.1296 19.0771 38.6852 19.5054 38.243 20.1455 38.2763 21.8243 38.4721 22.2856 39.611 22.526 40.696 22.9861 41.6387 23.6573 42.3985 23.7809 42.5383 23.9573 42.6104 24.1347 42.6104 24.2773 42.6104 24.4206 42.5639 24.5381 42.4688 24.8014 42.2553 24.8343 41.8776 24.6115 41.6252 22.2978 39.0062 23.8504 34.5445 23.8663 34.4997 23.9782 34.1872 23.8046 33.8471 23.4785 33.7397 23.1507 33.6321 22.7964 33.7986 22.6843 34.1111 22.6657 34.1631 22.2262 35.4024 22.1149 37.0253 22.0992 37.2529 22.0927 37.476 22.0916 37.6958 21.4663 37.3478 20.7678 37.1827 20.215 37.1057 21.266 32.9598 23.2109 31.5061 24.4867 30.9973 24.4164 31.2001 24.3769 31.3974 24.3692 31.5894 24.3639 31.7208 24.404 31.8501 24.4831 31.9575 25.0708 32.7551 26.1363 33.5207 27.4065 34.0584 28.2686 34.4232 29.5576 34.8194 31.1457 34.861 28.2499 37.3877 26.6257 40.39 26.4009 43.6936 26.3992 43.7195 26.3962 43.7461 26.3928 43.7729 25.1023 43.399 24.2167 43.2969 24.1252 43.2873 23.9888 43.2728 23.8487 43.3023 23.7304 43.3716 23.0495 43.7702 22.591 44.3922 22.4046 45.1703 22.2331 45.8868 22.3106 46.6885 22.6019 47.3807 22.0046 47.6438 21.3269 47.7784 20.7914 47.848 19.4939 45.6912 20.8219 44.6351 20.989 44.5146 21.2655 44.3207 21.3274 43.9492 21.1268 43.6822 20.9253 43.4139 20.5346 43.3533 20.2546 43.5462 19.4539 44.0983 18.406 45.6195 19.3656 47.7888 18.685 47.5329 17.6255 46.8145 17.8055 44.832 17.8836 43.9718 18.1884 43.3352 18.7117 42.9403 19.5815 42.2834 20.8198 42.451 20.8366 42.4537 21.1748 42.503 21.4952 42.2819 21.5494 41.9563 21.6037 41.6297 21.3713 41.3231 21.0306 41.2712 20.9582 41.2599 19.2558 41.0142 17.9494 41.9917 17.1375 42.5992 16.6703 43.5199 16.5605 44.7282 16.1991 48.7092 19.7376 49.1126 19.7732 49.116 19.7951 49.1182 22.2326 49.1079 23.7782 48.1211 23.8053 48.1039 24.4158 47.7528 24.4158 47.7528 24.5214 47.8841 24.6624 48.0532 24.8294 48.2438L22.3598 49.4874C22.1544 49.5908 22.0257 49.7949 22.0257 50.0171V51.8127C22.0257 52.1432 22.3054 52.4112 22.6505 52.4112S23.2754 52.1432 23.2754 51.8127V50.3786L25.6987 49.1582C26.021 49.4709 26.3894 49.7985 26.7963 50.1188L24.6627 50.7144C24.4768 50.7663 24.3269 50.8977 24.2559 51.0702L23.3968 53.1651C23.2704 53.4729 23.4286 53.8202 23.7498 53.9409 23.8248 53.9694 23.9023 53.9825 23.9782 53.9825 24.2277 53.9825 24.4632 53.8384 24.5599 53.6028L25.307 51.7814 28.0879 51.0053C28.5412 51.2713 29.0239 51.51 29.5341 51.6979 29.6079 51.7252 29.6836 51.738 29.7582 51.738 30.0092 51.738 30.246 51.592 30.3415 51.3542 30.4653 51.0457 30.3048 50.6994 29.9825 50.5808 27.1642 49.5423 25.2952 46.9394 25.2771 46.9138 25.1245 46.6979 24.8439 46.6013 24.5831 46.6746L23.7537 46.9082C23.5672 46.4465 23.5125 45.8992 23.623 45.4377 23.7168 45.046 23.9138 44.7341 24.21 44.508 25.267 44.6734 29.863 45.5842 33.2732 49.2905 33.3967 49.4247 33.569 49.4932 33.7423 49.4932 33.889 49.4932 34.0364 49.444 34.1551 49.3437 34.414 49.1251 34.439 48.747 34.2108 48.4989 33.9947 48.2641 33.7738 48.0421 33.5507 47.8278L38.211 47.0175C38.3595 47.0014 40.1672 46.8356 41.295 48.2161 41.4182 48.3671 41.6019 48.4458 41.7875 48.4458 41.9222 48.4458 42.0578 48.4043 42.1721 48.3186 42.4439 48.1148 42.4919 47.7386 42.2791 47.4784 40.6703 45.5094 38.1379 45.8184 38.0305 45.8327 38.0218 45.8339 38.0132 45.8353 38.0043 45.8368L32.3855 46.8136C31.945 46.4667 31.4998 46.1528 31.0557 45.8697 31.0618 45.5534 31.0651 45.1775 31.0836 44.9842 31.1138 44.6713 31.1524 44.3635 31.1997 44.0606 31.8329 40.0032 34.0061 36.8432 37.6695 34.6587 40.6334 32.8915 43.5195 32.4536 43.5682 32.4464 43.604 32.4413 43.663 32.4341 43.7302 32.4251 47.2229 38.3378 49.3982 46.7588 49.5976 49.5158V54.9673H14.4025Z"></path><path pathLength="360" d="M49.5975 9.0325V19.3422H38.689C38.5937 18.6105 38.5061 17.9301 38.4329 17.3569 38.2063 15.5828 37.4422 13.9868 36.2237 12.7413 34.8748 11.3624 33.2514 10.6633 31.3984 10.6633 27.3688 10.6633 25.8233 13.5309 25.556 15.0901 25.1526 15.5932 24.3175 16.7856 23.916 18.46 23.8568 18.7069 23.8106 19.0066 23.7778 19.3421H14.4025V9.0323H49.5975Z"></path><path class="color" pathLength="360" d="M30.2223 21.2875C30.5674 21.2875 30.8471 21.0195 30.8471 20.6889V18.92L31.9916 18.9675C32.3376 18.9833 32.628 18.7259 32.643 18.3956 32.658 18.0654 32.3907 17.786 32.0459 17.7717L30.2495 17.6969C30.077 17.6889 29.9133 17.7497 29.7902 17.8624 29.6671 17.9753 29.5976 18.1315 29.5976 18.2948V20.6889C29.5974 21.0195 29.8772 21.2875 30.2223 21.2875Z"></path></svg><div class="loading-text" data-glitch="Loading">Loading</div></div></div><script>const loading={out(){const e=document.querySelector("#loading-box"),t=document.querySelector(".loading-bg"),n=document.querySelector(".loading-animation");requestAnimationFrame((()=>{t.style.transform="translateX(100%)",t.style.borderRadius="3rem",n.style.transform="translateX(100%)",n.style.borderRadius="3rem",setTimeout((()=>{e.style.display="none",t.style="",n.style=""}),1600)}))},enter(){document.querySelector("#loading-box").style.display=""}};window.addEventListener("load",(()=>{loading.out()})),document.addEventListener("pjax:send",(()=>{loading.out()})),document.addEventListener("pjax:complete",(()=>{loading.enter()}))</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="icat_menus_items"><a class="site-page" href="javascript:void(0);" onclick="postai.init()" data-pjax-state="data-pjax-state"><i class="iconfont icat-Ai-reply"></i>MeuiCat Ai</a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="iconfont icat-square"></i> <span>合集</span><i class="iconfont icat-angle-down-new"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><span>归档</span></a></li><li><a class="site-page child" href="/tags/"><span>标签</span></a></li><li><a class="site-page child" href="/categories/"><span>分类</span></a></li><li><a class="site-page child" href="/charts/"><span>统计</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="iconfont icat-inbox"></i> <span>专栏</span><i class="iconfont icat-angle-down-new"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://blog.meuicat.cn/"><span>开发者博客</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://radio.meuicat.com/"><span>布柒糖FM</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://Capucino.meuicat.com/"><span>Capucino</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://KabuChino.meuicat.com/"><span>KabuChino</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="iconfont icat-precious-deposits"></i> <span>藏宝阁</span><i class="iconfont icat-angle-down-new"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/essay/"><span>即刻说</span></a></li><li><a class="site-page child" href="/photos/"><span>相册集</span></a></li><li><a class="site-page child" href="/collect/"><span>足迹阁</span></a></li><li><a class="site-page child" href="/fcircle/"><span>鱼塘录</span></a></li></ul></div><div class="icat_menus_item"><a class="site-page" href="/link/"><i class="iconfont icat-link"></i> <span>友链</span></a></div><div class="icat_menus_item"><a class="site-page" href="/about/"><i class="iconfont icat-about"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image:url('https://img.meuicat.com/posts/2024/4/1.webp')"><nav id="nav"><div id="nav-group"><span id="blog-info"><a href="/" title="回到主页"><span class="site-name">MeuiCat</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="iconfont icat-square"></i> <span>合集</span><i class="iconfont icat-angle-down-new"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><span>归档</span></a></li><li><a class="site-page child" href="/tags/"><span>标签</span></a></li><li><a class="site-page child" href="/categories/"><span>分类</span></a></li><li><a class="site-page child" href="/charts/"><span>统计</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="iconfont icat-inbox"></i> <span>专栏</span><i class="iconfont icat-angle-down-new"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://blog.meuicat.cn/"><span>开发者博客</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://radio.meuicat.com/"><span>布柒糖FM</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://Capucino.meuicat.com/"><span>Capucino</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://KabuChino.meuicat.com/"><span>KabuChino</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="iconfont icat-precious-deposits"></i> <span>藏宝阁</span><i class="iconfont icat-angle-down-new"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/essay/"><span>即刻说</span></a></li><li><a class="site-page child" href="/photos/"><span>相册集</span></a></li><li><a class="site-page child" href="/collect/"><span>足迹阁</span></a></li><li><a class="site-page child" href="/fcircle/"><span>鱼塘录</span></a></li></ul></div><div class="icat_menus_item"><a class="site-page" href="/link/"><i class="iconfont icat-link"></i> <span>友链</span></a></div><div class="icat_menus_item"><a class="site-page" href="/about/"><i class="iconfont icat-about"></i> <span>关于</span></a></div></div></div><div id="nav-right"><div id="travellings"><a class="site-page" target="_blank" rel="noopener" href="https://travellings.cn/go.html" title="随机前往一个开往项目网站"><i class="iconfont icat-subway"></i></a></div><div id="random"><a class="site-page" href="javascript:toRandomPost()" title="随机前往一个文章"><i class="iconfont icat-random"></i></a></div><div id="search-button"><a class="site-page social-icon search"><i class="iconfont icat-search"></i></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="搜索本站文章"><i class="iconfont icat-bars"></i></a></div></div></div></nav><div class="icat-post-cover"><img class="nolazyload" alt="cover" src="https://img.meuicat.com/posts/2024/4/1.webp"></div><div id="post-info"><h1 class="post-title">Butterfly的魔改教程：右键菜单</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon iconfont icat-calendar"></i><span class="post-meta-label">发表于</span><time datetime="2024-04-01T13:00:28.000Z" title="发表于 2024-04-01 21:00:28">2024-04-01</time></span><span class="post-meta-Publish-Location" title="发表IP归属地为深圳"><span class="post-meta-separator">|</span><i class="iconfont icat-publish-location"></i><span>深圳</span></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="iconfont icat-categories fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/">经验分享</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far iconfont icat-quantity fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">10.2k</span><span class="post-meta-separator">|</span><i class="far iconfont icat-time-fill fa-fw post-meta-icon"></i><span class="post-meta-label">预计阅读:</span><span>48分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Butterfly的魔改教程：右键菜单"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_page_pv"><i class="fa-solid iconfont icat-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far iconfont icat-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/blog/86/#post-comment"><span id="twikoo-count"><i class="fa-solid iconfont icat-spinner fa-spin"></i></span></a></span></div><div id="icat-meta-platform">文章多平台同步</div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18v44h-352Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><div class="note info no-icon modern"><p><span style="font-weight:700;font-size:18px">📚 更多文档目录<span></span></span></p><p>🚀 <a href="/blog/24">搭建教程 | 1</a> - 📑 <a href="/blog/36">前置教程 | 2</a> - 🎈 <a href="/blog/38">主题调整 | 3</a> - ✨ <a href="/blog/42">魔改教程 | 4</a> - 🐈 <a href="/blog/3">重构自用数据记录</a></p><hr><p><strong>本篇教程基于 <code>Hexo 6.3.0</code> &amp; <code>Butterfly 4.9.0</code> 为博主的魔改教程记录，以防自己日后因魔改迷失所记录 📝</strong></p></div><div class="note success no-icon modern"><p>240410 更新：新增无jquery依赖的版本，使用原生js实现；修复已知图片处理的问题</p></div><h1 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h1><blockquote><p>在本站<code>PC端</code>自行右键体验</p></blockquote><h1 id="创建数据"><a href="#创建数据" class="headerlink" title="创建数据"></a>创建数据</h1><ul><li>创建 <code>[blogRoot]/themes/butterfly/layout/includes/rightmenu.pug</code> 页面文件，并新增以下内容<br>（注意该内容中 <code>fontawesome 图标</code> 需要自行替换）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">.js-pjax</span><br><span class="line">  #rightMenu</span><br><span class="line">    .rightMenu-group.rightMenu-small</span><br><span class="line">      .rightMenu-item#menu-backward</span><br><span class="line">        i.iconfont.icat-angle-left</span><br><span class="line">      .rightMenu-item#menu-forward</span><br><span class="line">        i.iconfont.icat-angle-right</span><br><span class="line">      .rightMenu-item#menu-refresh</span><br><span class="line">        i.iconfont.icat-refresh</span><br><span class="line">      .rightMenu-item#menu-darkmode</span><br><span class="line">        i.iconfont.icat-changing-over</span><br><span class="line">    .rightMenu-group.rightMenu-line.rightMenuPost</span><br><span class="line">      .rightMenu-item#menu-reading</span><br><span class="line">        i.iconfont.icat-read</span><br><span class="line">        span=&#x27;阅读模式&#x27;</span><br><span class="line">      .rightMenu-item#menu-commentBarrage</span><br><span class="line">        i.iconfont.icat-danmu</span><br><span class="line">        span=&#x27;热评开关&#x27;</span><br><span class="line">      .rightMenu-item#menu-postlink</span><br><span class="line">        i.iconfont.icat-copy-paste</span><br><span class="line">        span=&#x27;复制本文地址&#x27;</span><br><span class="line">    .rightMenu-group.rightMenu-line.rightMenuPlugin</span><br><span class="line">      .rightMenu-item#menu-copytext</span><br><span class="line">        i.iconfont.icat-copy-paste</span><br><span class="line">        span=&#x27;复制内容&#x27;</span><br><span class="line">      .rightMenu-item#menu-pastetext</span><br><span class="line">        i.iconfont.icat-clipboar</span><br><span class="line">        span=&#x27;粘贴内容&#x27;</span><br><span class="line">      .rightMenu-item#menu-commenttext</span><br><span class="line">        i.iconfont.icat-message</span><br><span class="line">        span=&#x27;引用评论&#x27;</span><br><span class="line">      .rightMenu-item#menu-search</span><br><span class="line">        i.iconfont.icat-search</span><br><span class="line">        span=&#x27;站内搜索&#x27;</span><br><span class="line">      .rightMenu-item#menu-searchBaidu</span><br><span class="line">        i.iconfont.icat-baidu</span><br><span class="line">        span=&#x27;百度搜索&#x27;</span><br><span class="line">      .rightMenu-item#menu-newwindow</span><br><span class="line">        i.iconfont.icat-new-window</span><br><span class="line">        span=&#x27;新建窗口打开&#x27;</span><br><span class="line">      .rightMenu-item#menu-copylink</span><br><span class="line">        i.iconfont.icat-jump-link</span><br><span class="line">        span=&#x27;复制链接地址&#x27;</span><br><span class="line">      .rightMenu-item#menu-copyimg</span><br><span class="line">        i.iconfont.icat-copy-paste</span><br><span class="line">        span=&#x27;复制此图片&#x27;</span><br><span class="line">      .rightMenu-item#menu-downloadimg</span><br><span class="line">        i.iconfont.icat-download-save</span><br><span class="line">        span=&#x27;下载此图片&#x27;</span><br><span class="line">      .rightMenu-item#menu-copylinkimg</span><br><span class="line">        i.iconfont.icat-jump-link</span><br><span class="line">        span=&#x27;复制图片链接&#x27;</span><br><span class="line">    .rightMenu-group.rightMenu-line.rightMenuOther</span><br><span class="line">      a.rightMenu-item#menu-randomPost</span><br><span class="line">        i.iconfont.icat-random</span><br><span class="line">        span=&#x27;随便逛逛&#x27;</span><br><span class="line">      if theme.translate.enable</span><br><span class="line">        a.rightMenu-item#menu-translate</span><br><span class="line">          i.iconfont.icat-simple-complex</span><br><span class="line">          span=&#x27;繁简转换&#x27;</span><br><span class="line">      .rightMenu-item#menu-asidehide</span><br><span class="line">        i.iconfont.icat-danmu</span><br><span class="line">        span=&#x27;边栏控制&#x27;</span><br><span class="line">    .rightMenu-group.rightMenu-line</span><br><span class="line">      a.rightMenu-item(href=&quot;/privacy/&quot;)</span><br><span class="line">        i.iconfont.icat-conceal</span><br><span class="line">        span=&#x27;隐私协议&#x27;</span><br><span class="line">      a.rightMenu-item(href=&quot;/cc/&quot;)</span><br><span class="line">        i.iconfont.icat-cc</span><br><span class="line">        span=&#x27;版权协议&#x27;</span><br><span class="line">  #rightMenu-mask</span><br></pre></td></tr></table></figure><ul><li>新增 <code>[blogRoot]/themes/butterfly/layout/includes/layout.pug</code> 页面内容<br>（ <strong>+</strong> 号直接删除 即是正常缩进）</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  ···</span><br><span class="line"></span><br><span class="line">    else</span><br><span class="line">      include ./404.pug</span><br><span class="line"></span><br><span class="line">    include ./rightside.pug</span><br><span class="line">    include ./additional-js.pug</span><br><span class="line">+    !=partial(&#x27;includes/rightmenu&#x27;,&#123;&#125;, &#123;cache:true&#125;)</span><br></pre></td></tr></table></figure><ul><li>新建 <code>[blogRoot]/themes/butterfly/source/css/_page/rightmenu.styl</code> 样式文件，并新增以下内容</li></ul><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#rightMenu</span></span><br><span class="line">  <span class="attribute">display</span>: none</span><br><span class="line">  <span class="attribute">position</span>: fixed</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">160px</span></span><br><span class="line">  <span class="attribute">height</span>: fit-content</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10%</span></span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10%</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--icat-maskbgdeep)</span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>) <span class="built_in">saturate</span>(<span class="number">1.5</span>)</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>)</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border)</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span></span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">99994</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--icat-shadow-black)</span><br><span class="line">  <span class="attribute">transition</span>: border <span class="number">0.3s</span></span><br><span class="line">  user-select: <span class="attribute">none</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-hover-always)</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.rightMenu-group</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">6px</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:not</span>(<span class="selector-pseudo">:nth-last-child</span>(<span class="number">1</span>))</span><br><span class="line">      <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--icat-card-border)</span><br><span class="line"></span><br><span class="line">    &amp;<span class="selector-class">.rightMenu-small</span></span><br><span class="line">      <span class="attribute">display</span>: flex</span><br><span class="line">      <span class="attribute">justify-content</span>: space-between</span><br><span class="line"></span><br><span class="line">    &amp;<span class="selector-class">.rightMenu-line</span></span><br><span class="line">      <span class="selector-class">.rightMenu-item</span></span><br><span class="line">        <span class="attribute">display</span>: flex</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">40px</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">        <span class="attribute">align-items</span>: center</span><br><span class="line">        <span class="attribute">transition</span>: .<span class="number">6s</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.rightMenu-item</span></span><br><span class="line">      <span class="attribute">height</span>: <span class="number">30px</span></span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">6px</span></span><br><span class="line">      <span class="attribute">transition</span>: .<span class="number">3s</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color)</span><br><span class="line">      <span class="attribute">cursor</span>: pointer</span><br><span class="line"></span><br><span class="line">      *</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">40px</span></span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">40px</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:not</span>(:last-child)</span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">4px</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="attribute">background-color</span>: <span class="built_in">var</span>(--icat-blue)</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--icat-white)</span><br><span class="line"></span><br><span class="line">      <span class="selector-tag">i</span></span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">text-align</span>: center</span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">30px</span></span><br><span class="line">        <span class="attribute">width</span>: <span class="number">30px</span></span><br><span class="line">        <span class="attribute">height</span>: <span class="number">30px</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-class">.icat-refresh</span>,</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-class">.icat-changing-over</span>,</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-class">.icat-simple-complex</span> </span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">900</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightMenu-mask</span></span><br><span class="line">  <span class="attribute">position</span>: fixed</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">display</span>: none</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">998</span></span><br></pre></td></tr></table></figure><details class="toggle" style="border:1px solid bg"><summary class="toggle-button" style="background-color:bg;color:color">可选CSS样式</summary><div class="toggle-content"><ul><li>新建 <code>[blogRoot]/themes/butterfly/source/css/rightmenu.css</code> 样式文件，并新增以下内容<br>（也可以在自建的css文件里新增内容）</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#rightMenu</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">  <span class="attribute">height</span>: fit-content;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--icat-maskbgdeep);</span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>) <span class="built_in">saturate</span>(<span class="number">1.5</span>);</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">99994</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--icat-shadow-black);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--icat-shadow-black);</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: border <span class="number">0.3s</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: border <span class="number">0.3s</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: border <span class="number">0.3s</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: border <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">transition</span>: border <span class="number">0.3s</span>;</span><br><span class="line">  -webkit-user-select: none;</span><br><span class="line">  -moz-user-select: none;</span><br><span class="line">  -ms-user-select: none;</span><br><span class="line">  user-select: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-hover-always);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:nth-last-child</span>(<span class="number">1</span>)) &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--icat-card-border);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-small</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">display</span>: -moz-box;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex;</span><br><span class="line">  <span class="attribute">display</span>: -ms-flexbox;</span><br><span class="line">  <span class="attribute">display</span>: box;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  -webkit-box-pack: justify;</span><br><span class="line">  -moz-box-pack: justify;</span><br><span class="line">  -o-box-pack: justify;</span><br><span class="line">  -ms-<span class="attribute">flex</span>-pack: justify;</span><br><span class="line">  -webkit-<span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span> <span class="selector-class">.rightMenu-item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">display</span>: -moz-box;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-flex;</span><br><span class="line">  <span class="attribute">display</span>: -ms-flexbox;</span><br><span class="line">  <span class="attribute">display</span>: box;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">4px</span>;</span><br><span class="line">  -webkit-box-align: center;</span><br><span class="line">  -moz-box-align: center;</span><br><span class="line">  -o-box-align: center;</span><br><span class="line">  -ms-<span class="attribute">flex</span>-align: center;</span><br><span class="line">  -webkit-<span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: <span class="number">0.6s</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: <span class="number">0.6s</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: <span class="number">0.6s</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: <span class="number">0.6s</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.6s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">  -webkit-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  -moz-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  -o-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  -ms-<span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> * &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:last-child</span>) &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--icat-blue);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--icat-white);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-class">.icat-refresh</span>,</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-class">.icat-changing-over</span>,</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-class">.icat-simple-complex</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">900</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu-mask</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">998</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 右键样式 */</span></span><br></pre></td></tr></table></figure><ul><li>在 <code>_config.butterfly.yml</code> 主题配置文件中 <code>inject</code> 下的 <code>head</code> 引入 <code>rightmenu.css</code></li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  <span class="string">···</span></span><br><span class="line"></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/rightmenu.css&quot;&gt;</span> <span class="comment"># 右键菜单样式</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">···</span></span><br><span class="line"></span><br><span class="line">  <span class="string">···</span></span><br></pre></td></tr></table></figure></div></details><ul><li>创建 <code>[blogRoot]/themes/butterfly/source/js/rightmenu.js</code> 文件，并新增以下内容</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> selectTextNow = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> rmWidth = $(<span class="string">&quot;#rightMenu&quot;</span>).<span class="title function_">width</span>(),</span><br><span class="line">    rmHeight = $(<span class="string">&quot;#rightMenu&quot;</span>).<span class="title function_">height</span>(),</span><br><span class="line">    domhref = <span class="string">&quot;&quot;</span>,</span><br><span class="line">    domImgSrc = <span class="string">&quot;&quot;</span>,</span><br><span class="line">    globalEvent = <span class="literal">null</span>,</span><br><span class="line">    rm = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">imageToBlob</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> n = <span class="keyword">new</span> <span class="title class_">Image</span>,</span><br><span class="line">		t = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>),</span><br><span class="line">		o = t.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> n.<span class="property">crossOrigin</span> = <span class="string">&quot;&quot;</span>, n.<span class="property">src</span> = e, <span class="keyword">new</span> <span class="title class_">Promise</span>((<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">		n.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">			t.<span class="property">width</span> = <span class="variable language_">this</span>.<span class="property">naturalWidth</span>, t.<span class="property">height</span> = <span class="variable language_">this</span>.<span class="property">naturalHeight</span>, o.<span class="title function_">drawImage</span>(<span class="variable language_">this</span>, <span class="number">0</span>, <span class="number">0</span>), t.<span class="title function_">toBlob</span>((<span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="title function_">e</span>(n)</span><br><span class="line">			&#125;), <span class="string">&quot;image/png&quot;</span>, <span class="number">.75</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">copyImage</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> n = <span class="keyword">await</span> <span class="title function_">imageToBlob</span>(e),</span><br><span class="line">		t = <span class="keyword">new</span> <span class="title class_">ClipboardItem</span>(&#123;</span><br><span class="line">			<span class="string">&quot;image/png&quot;</span>: n</span><br><span class="line">		&#125;);</span><br><span class="line">	navigator.<span class="property">clipboard</span>.<span class="title function_">write</span>([t])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stopMaskScroll</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>)) &#123;</span><br><span class="line">		<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;mousewheel&quot;</span>, (<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">        &#125;), !<span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>)) &#123;</span><br><span class="line">		<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;mousewheel&quot;</span>, (<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">        &#125;), !<span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addRightMenuClickEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#rightMenu-mask&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">hideRightMenu</span>),</span><br><span class="line">    $(<span class="string">&quot;#rightMenu-mask&quot;</span>).<span class="title function_">contextmenu</span>((<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> rm.<span class="title function_">hideRightMenu</span>(), !<span class="number">1</span></span><br><span class="line">    &#125;)),</span><br><span class="line">	$(<span class="string">&quot;#menu-backward&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">back</span>(),</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-forward&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">forward</span>(),</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-refresh&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>(),</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>()</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-darkmode&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">switchDarkMode</span>),</span><br><span class="line">    $(<span class="string">&quot;#menu-reading&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">switchReadMode</span>),</span><br><span class="line">    $(<span class="string">&quot;#menu-commentBarrage&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>(),</span><br><span class="line">        rm.<span class="title function_">switchCommentBarrage</span>()</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-postlink&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">copyPostUrl</span>),</span><br><span class="line">    $(<span class="string">&quot;#menu-copytext&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">rightmenuCopyText</span>(selectTextNow),</span><br><span class="line">        btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;复制成功，复制和转载请标注本文地址&quot;</span>)</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-pastetext&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">pasteText</span>),</span><br><span class="line">    $(<span class="string">&quot;#menu-commenttext&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">commentText</span>(selectTextNow),</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-searchBaidu&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">searchBaidu</span>),</span><br><span class="line">    $(<span class="string">&quot;#menu-newwindow&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="variable language_">window</span>.<span class="title function_">open</span>(domhref),</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">	&#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-copylink&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">copyLink</span>),</span><br><span class="line">    $(<span class="string">&quot;#menu-copyimg&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">writeClipImg</span>(domImgSrc)</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-downloadimg&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">downloadImage</span>(domImgSrc, <span class="string">&quot;MeuiCat&quot;</span>)</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-copylinkimg&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title class_">CopyLinkImg</span>(domImgSrc)</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-randomPost&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>(),</span><br><span class="line">        <span class="title function_">toRandomPost</span>()</span><br><span class="line">    &#125;)),</span><br><span class="line">    $(<span class="string">&quot;#menu-translate&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">translate</span>),</span><br><span class="line">    $(<span class="string">&quot;#menu-asidehide&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">hideAsideBtn</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">selceText</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> e;</span><br><span class="line">	e = <span class="variable language_">document</span>.<span class="property">selection</span> ? <span class="variable language_">document</span>.<span class="property">selection</span>.<span class="title function_">createRange</span>()</span><br><span class="line">		.<span class="property">text</span> : <span class="variable language_">window</span>.<span class="title function_">getSelection</span>() + <span class="string">&quot;&quot;</span>, selectTextNow = e || <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">oncontextmenu</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span> &gt; <span class="number">768</span>) &#123;</span><br><span class="line">		<span class="keyword">let</span> n = e.<span class="property">clientX</span> + <span class="number">10</span>,</span><br><span class="line">			t = e.<span class="property">clientY</span>,</span><br><span class="line">            p = $(<span class="string">&quot;.rightMenuPost&quot;</span>),</span><br><span class="line">            o = $(<span class="string">&quot;.rightMenuOther&quot;</span>),</span><br><span class="line">            i = $(<span class="string">&quot;.rightMenuPlugin&quot;</span>),</span><br><span class="line">            g = $(<span class="string">&quot;#menu-commentBarrage&quot;</span>),</span><br><span class="line">            c = $(<span class="string">&quot;#menu-copytext&quot;</span>),</span><br><span class="line">            r = $(<span class="string">&quot;#menu-pastetext&quot;</span>),</span><br><span class="line">            m = $(<span class="string">&quot;#menu-commenttext&quot;</span>),</span><br><span class="line">            d = $(<span class="string">&quot;#menu-search&quot;</span>),</span><br><span class="line">            s = $(<span class="string">&quot;#menu-searchBaidu&quot;</span>),</span><br><span class="line">			a = $(<span class="string">&quot;#menu-newwindow&quot;</span>),</span><br><span class="line">			u = $(<span class="string">&quot;#menu-copylink&quot;</span>),</span><br><span class="line">			l = $(<span class="string">&quot;#menu-copyimg&quot;</span>),</span><br><span class="line">			h = $(<span class="string">&quot;#menu-downloadimg&quot;</span>),</span><br><span class="line">			w = $(<span class="string">&quot;#menu-copylinkimg&quot;</span>),</span><br><span class="line">            y = e.<span class="property">target</span>.<span class="property">href</span>,</span><br><span class="line">            M = e.<span class="property">target</span>.<span class="property">currentSrc</span>,</span><br><span class="line">            b = !<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> o.<span class="title function_">show</span>(),</span><br><span class="line">        globalEvent = e,</span><br><span class="line">        selectTextNow &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">getSelection</span>() ? (b = !<span class="number">0</span>, c.<span class="title function_">show</span>(), $(<span class="string">&quot;#post-comment&quot;</span>).<span class="property">length</span> ? m.<span class="title function_">show</span>() : m.<span class="title function_">hide</span>(), d.<span class="title function_">show</span>(), s.<span class="title function_">show</span>(), p.<span class="title function_">hide</span>()) : (c.<span class="title function_">hide</span>(), m.<span class="title function_">hide</span>(), d.<span class="title function_">hide</span>(), s.<span class="title function_">hide</span>()),</span><br><span class="line">        y ? (b = !<span class="number">0</span>, a.<span class="title function_">show</span>(), u.<span class="title function_">show</span>(), domhref = y, p.<span class="title function_">hide</span>()) : (a.<span class="title function_">hide</span>(), u.<span class="title function_">hide</span>()),</span><br><span class="line">        M ? (b = !<span class="number">0</span>, l.<span class="title function_">show</span>(), h.<span class="title function_">show</span>(), w.<span class="title function_">show</span>(), domImgSrc = M, p.<span class="title function_">hide</span>()) : (l.<span class="title function_">hide</span>(), h.<span class="title function_">hide</span>(), w.<span class="title function_">hide</span>()),</span><br><span class="line">        <span class="string">&quot;input&quot;</span> === e.<span class="property">target</span>.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>() || <span class="string">&quot;textarea&quot;</span> === e.<span class="property">target</span>.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>() ? (b = !<span class="number">0</span>, r.<span class="title function_">show</span>(), p.<span class="title function_">hide</span>()) : r.<span class="title function_">hide</span>(),</span><br><span class="line">        b ? (o.<span class="title function_">hide</span>(), i.<span class="title function_">show</span>()) : (i.<span class="title function_">hide</span>(), $(<span class="string">&quot;#body-wrap.post&quot;</span>).<span class="property">length</span> ? p.<span class="title function_">show</span>() : p.<span class="title function_">hide</span>()),</span><br><span class="line">        $(<span class="string">&quot;.read-mode&quot;</span>).<span class="property">length</span> ? g.<span class="title function_">hide</span>() : g.<span class="title function_">show</span>(),</span><br><span class="line">        rm.<span class="title function_">reloadrmSize</span>(),</span><br><span class="line">        n + rmWidth &gt; <span class="variable language_">window</span>.<span class="property">innerWidth</span> &amp;&amp; (n -= rmWidth + <span class="number">10</span>),</span><br><span class="line">        t + rmHeight &gt; <span class="variable language_">window</span>.<span class="property">innerHeight</span> &amp;&amp; (t -= t + rmHeight - <span class="variable language_">window</span>.<span class="property">innerHeight</span>),</span><br><span class="line">        rm.<span class="title function_">showRightMenu</span>(!<span class="number">0</span>, t, n),</span><br><span class="line">        $(<span class="string">&quot;#rightMenu-mask&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display: flex&quot;</span>),</span><br><span class="line">        !<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onmouseup</span> = <span class="variable language_">document</span>.<span class="property">ondbclick</span> = selceText</span><br><span class="line"></span><br><span class="line">rm.<span class="property">showRightMenu</span> = <span class="keyword">function</span>(<span class="params">e, n = <span class="number">0</span>, t = <span class="number">0</span></span>) &#123;</span><br><span class="line">	<span class="keyword">let</span> o = $(<span class="string">&quot;#rightMenu&quot;</span>);</span><br><span class="line">	o.<span class="title function_">css</span>(<span class="string">&quot;top&quot;</span>, n + <span class="string">&quot;px&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;left&quot;</span>, t + <span class="string">&quot;px&quot;</span>),</span><br><span class="line">    e ? (o.<span class="title function_">show</span>(), <span class="title function_">stopMaskScroll</span>()) : o.<span class="title function_">hide</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">hideRightMenu</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	rm.<span class="title function_">showRightMenu</span>(!<span class="number">1</span>),</span><br><span class="line">    $(<span class="string">&quot;#rightMenu-mask&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display: none&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">reloadrmSize</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	rmWidth = $(<span class="string">&quot;#rightMenu&quot;</span>).<span class="title function_">width</span>(),</span><br><span class="line">    rmHeight = $(<span class="string">&quot;#rightMenu&quot;</span>).<span class="title function_">height</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">switchDarkMode</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">night_to_day</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>)</span><br><span class="line">        .<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">switchReadMode</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> $body = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line">    <span class="keyword">if</span> ($(<span class="string">&quot;.read-mode&quot;</span>).<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        $body.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;read-mode&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> newEle = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">        newEle.<span class="property">type</span> = <span class="string">&#x27;button&#x27;</span>;</span><br><span class="line">        newEle.<span class="property">className</span> = <span class="string">&#x27;iconfont icat-exit-mode exit-readmode&#x27;</span>;</span><br><span class="line">        $body.<span class="title function_">appendChild</span>(newEle);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">clickFn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">            $body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;read-mode&#x27;</span>);</span><br><span class="line">            newEle.<span class="title function_">remove</span>();</span><br><span class="line">            newEle.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        newEle.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn);</span><br><span class="line">        $(<span class="string">&quot;#menu-reading span&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;退出阅读模式&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;read-mode&#x27;</span>);</span><br><span class="line">        $(<span class="string">&quot;.exit-readmode&quot;</span>).<span class="title function_">remove</span>();</span><br><span class="line">        $(<span class="string">&quot;#menu-reading span&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;阅读模式&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">switchCommentBarrage</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.comment-barrage&quot;</span>) &amp;&amp; ($(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">is</span>(<span class="string">&quot;:visible&quot;</span>) ? ($(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">hide</span>(),</span><br><span class="line">    $(<span class="string">&quot;#menu-commentBarrage span&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;显示热评&quot;</span>),</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#consoleCommentBarrage&quot;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;on&quot;</span>),</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;commentBarrageSwitch&quot;</span>, <span class="string">&quot;false&quot;</span>)) : $(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">is</span>(<span class="string">&quot;:hidden&quot;</span>) &amp;&amp; ($(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">show</span>(),</span><br><span class="line">    $(<span class="string">&quot;#menu-commentBarrage span&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;关闭热评&quot;</span>),</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#consoleCommentBarrage&quot;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;on&quot;</span>),</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&quot;commentBarrageSwitch&quot;</span>))),</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">copyUrl</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	$(<span class="string">&quot;body&quot;</span>)</span><br><span class="line">		.<span class="title function_">after</span>(<span class="string">&quot;&lt;input id=&#x27;copyVal&#x27;&gt;&lt;/input&gt;&quot;</span>);</span><br><span class="line">	<span class="keyword">var</span> n = e,</span><br><span class="line">		t = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;copyVal&quot;</span>);</span><br><span class="line">	t.<span class="property">value</span> = n, t.<span class="title function_">select</span>(), t.<span class="title function_">setSelectionRange</span>(<span class="number">0</span>, t.<span class="property">value</span>.<span class="property">length</span>), <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;copy&quot;</span>), $(<span class="string">&quot;#copyVal&quot;</span>)</span><br><span class="line">		.<span class="title function_">remove</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">copyPostUrl</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> e = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>;</span><br><span class="line">	rm.<span class="title function_">copyUrl</span>(e),</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;复制本页链接地址成功&quot;</span>, !<span class="number">1</span>, <span class="number">2000</span>),</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">rightmenuCopyText</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	navigator.<span class="property">clipboard</span> &amp;&amp; navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(e),</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">readClipboard</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	navigator.<span class="property">clipboard</span> &amp;&amp; navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>()</span><br><span class="line">		.<span class="title function_">then</span>((<span class="function"><span class="params">e</span> =&gt;</span> rm.<span class="title function_">insertAtCaret</span>(globalEvent.<span class="property">target</span>, e)))</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">insertAtCaret</span> = <span class="keyword">function</span>(<span class="params">e, n</span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> t = e.<span class="property">selectionStart</span>,</span><br><span class="line">		o = e.<span class="property">selectionEnd</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">selection</span>) e.<span class="title function_">focus</span>(), <span class="variable language_">document</span>.<span class="property">selection</span>.<span class="title function_">createRange</span>()</span><br><span class="line">		.<span class="property">text</span> = n, e.<span class="title function_">focus</span>();</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (t || <span class="string">&quot;0&quot;</span> == t) &#123;</span><br><span class="line">		<span class="keyword">var</span> i = e.<span class="property">scrollTop</span>;</span><br><span class="line">		e.<span class="property">value</span> = e.<span class="property">value</span>.<span class="title function_">substring</span>(<span class="number">0</span>, t) + n + e.<span class="property">value</span>.<span class="title function_">substring</span>(o, e.<span class="property">value</span>.<span class="property">length</span>), e.<span class="title function_">focus</span>(), e.<span class="property">selectionStart</span> = t + n.<span class="property">length</span>, e.<span class="property">selectionEnd</span> = t + n.<span class="property">length</span>, e.<span class="property">scrollTop</span> = i</span><br><span class="line">	&#125; <span class="keyword">else</span> e.<span class="property">value</span> += n, e.<span class="title function_">focus</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">pasteText</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	rm.<span class="title function_">readClipboard</span>(),</span><br><span class="line">	rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">commentText</span> = <span class="keyword">function</span> (<span class="params">txt</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> inputs = [<span class="string">&quot;#wl-edit&quot;</span>, <span class="string">&quot;.el-textarea__inner&quot;</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; inputs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(inputs[i]);</span><br><span class="line">        <span class="keyword">if</span> (el != <span class="literal">null</span>) &#123;</span><br><span class="line">            el.<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">&#x27;input&#x27;</span>, &#123; <span class="attr">bubble</span>: <span class="literal">true</span>, <span class="attr">cancelable</span>: <span class="literal">true</span> &#125;));</span><br><span class="line">            el.<span class="property">value</span> = <span class="string">&#x27;&gt; &#x27;</span> + txt.<span class="title function_">replace</span>(<span class="regexp">/\n/g</span>, <span class="string">&#x27;\n&gt; &#x27;</span>) + <span class="string">&#x27;\n\n&#x27;</span>;</span><br><span class="line">            el.<span class="title function_">focus</span>();</span><br><span class="line">            el.<span class="title function_">setSelectionRange</span>(-<span class="number">1</span>, -<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">searchBaidu</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;即将跳转到百度搜索&quot;</span>, !<span class="number">1</span>, <span class="number">2000</span>), <span class="built_in">setTimeout</span>((<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;https://www.baidu.com/s?wd=&quot;</span> + selectTextNow)</span><br><span class="line">	&#125;), <span class="string">&quot;2000&quot;</span>),</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">rightmenuCopyText</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	navigator.<span class="property">clipboard</span> &amp;&amp; navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(e),</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">copyLink</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	rm.<span class="title function_">rightmenuCopyText</span>(domhref),</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;已复制链接地址&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">downloadimging</span> = !<span class="number">1</span>,</span><br><span class="line">rm.<span class="property">writeClipImg</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> t = <span class="string">&quot;2000&quot;</span>;</span><br><span class="line">	<span class="keyword">const</span> n = <span class="string">&quot;localhost&quot;</span> === <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hostname</span> || <span class="string">&quot;127.0.0.1&quot;</span> === <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hostname</span> ? <span class="number">0</span> : <span class="number">10000</span>;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;按下复制&quot;</span>),</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>(),</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;正在下载中，请稍后&quot;</span>, !<span class="number">1</span>, n),</span><br><span class="line">    <span class="number">0</span> == rm.<span class="property">downloadimging</span> &amp;&amp; (rm.<span class="property">downloadimging</span> = !<span class="number">0</span>,</span><br><span class="line">    <span class="built_in">setTimeout</span>((<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="title function_">copyImage</span>(e), btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;复制成功！图片已添加盲水印，请遵守版权协议&quot;</span>), rm.<span class="property">downloadimging</span> = !<span class="number">1</span></span><br><span class="line">	&#125;), t))</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">downloadImage</span> = <span class="keyword">function</span>(<span class="params">e, t</span>) &#123;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>(),</span><br><span class="line">    <span class="number">0</span> == rm.<span class="property">downloadimging</span> ? (rm.<span class="property">downloadimging</span> = !<span class="number">0</span>, btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;正在下载中，请稍后&quot;</span>, !<span class="number">1</span>, <span class="number">10000</span>), <span class="built_in">setTimeout</span>((<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> o = <span class="keyword">new</span> <span class="title class_">Image</span>;</span><br><span class="line">        o.<span class="title function_">setAttribute</span>(<span class="string">&quot;crossOrigin&quot;</span>, <span class="string">&quot;anonymous&quot;</span>), o.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> e = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">            e.<span class="property">width</span> = o.<span class="property">width</span>, e.<span class="property">height</span> = o.<span class="property">height</span>, e.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>)</span><br><span class="line">                .<span class="title function_">drawImage</span>(o, <span class="number">0</span>, <span class="number">0</span>, o.<span class="property">width</span>, o.<span class="property">height</span>);</span><br><span class="line">            <span class="keyword">let</span> n = e.<span class="title function_">toDataURL</span>(<span class="string">&quot;image/png&quot;</span>),</span><br><span class="line">                a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>),</span><br><span class="line">                l = <span class="keyword">new</span> <span class="title class_">MouseEvent</span>(<span class="string">&quot;click&quot;</span>);</span><br><span class="line">            a.<span class="property">download</span> = t || <span class="string">&quot;photo&quot;</span>, a.<span class="property">href</span> = n, a.<span class="title function_">dispatchEvent</span>(l)</span><br><span class="line">        &#125;, o.<span class="property">src</span> = e, btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;图片已添加盲水印，请遵守版权协议&quot;</span>), rm.<span class="property">downloadimging</span> = !<span class="number">1</span></span><br><span class="line">    &#125;), <span class="string">&quot;10000&quot;</span>)) : btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;有正在进行中的下载，请稍后再试&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">CopyLinkImg</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	rm.<span class="title function_">rightmenuCopyText</span>(e),</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;已复制图片链接&quot;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">translate</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>(),</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;translateLink&quot;</span>).<span class="title function_">click</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">hideAsideBtn</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> $htmlDom = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">classList</span></span><br><span class="line">    <span class="keyword">const</span> saveStatus = $htmlDom.<span class="title function_">contains</span>(<span class="string">&#x27;hide-aside&#x27;</span>) ? <span class="string">&#x27;show&#x27;</span> : <span class="string">&#x27;hide&#x27;</span></span><br><span class="line">    saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;aside-status&#x27;</span>, saveStatus, <span class="number">2</span>)</span><br><span class="line">    $htmlDom.<span class="title function_">toggle</span>(<span class="string">&#x27;hide-aside&#x27;</span>)</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 右键菜单</span></span><br></pre></td></tr></table></figure><ul><li>在 <code>_config.butterfly.yml</code> 主题配置文件中 <code>inject</code> 下的 <code>bottom</code> 引入 <code>jquery</code> 和 <code>rightmenu.js</code></li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  <span class="string">···</span></span><br><span class="line"></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">···</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdn.staticfile.net/jquery/3.7.1/jquery.min.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># JQ库</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/rightmenu.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 右键菜单</span></span><br><span class="line"></span><br><span class="line">  <span class="string">···</span></span><br></pre></td></tr></table></figure><details class="toggle" style="border:1px solid bg"><summary class="toggle-button" style="background-color:bg;color:color">无JQ库</summary><div class="toggle-content"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> selectTextNow = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> rmWidth = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>).<span class="property">offsetWidth</span>,</span><br><span class="line">    rmHeight = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>).<span class="property">offsetHeight</span>,</span><br><span class="line">    domhref = <span class="string">&quot;&quot;</span>,</span><br><span class="line">    domImgSrc = <span class="string">&quot;&quot;</span>,</span><br><span class="line">    globalEvent = <span class="literal">null</span>,</span><br><span class="line">    rm = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">imageToBlob</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> n = <span class="keyword">new</span> <span class="title class_">Image</span>,</span><br><span class="line">		t = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>),</span><br><span class="line">		o = t.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> n.<span class="property">crossOrigin</span> = <span class="string">&quot;&quot;</span>, n.<span class="property">src</span> = e, <span class="keyword">new</span> <span class="title class_">Promise</span>((<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">		n.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">			t.<span class="property">width</span> = <span class="variable language_">this</span>.<span class="property">naturalWidth</span>, t.<span class="property">height</span> = <span class="variable language_">this</span>.<span class="property">naturalHeight</span>, o.<span class="title function_">drawImage</span>(<span class="variable language_">this</span>, <span class="number">0</span>, <span class="number">0</span>), t.<span class="title function_">toBlob</span>((<span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">				<span class="title function_">e</span>(n)</span><br><span class="line">			&#125;), <span class="string">&quot;image/png&quot;</span>, <span class="number">.75</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">copyImage</span>(<span class="params">e</span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> n = <span class="keyword">await</span> <span class="title function_">imageToBlob</span>(e),</span><br><span class="line">		t = <span class="keyword">new</span> <span class="title class_">ClipboardItem</span>(&#123;</span><br><span class="line">			<span class="string">&quot;image/png&quot;</span>: n</span><br><span class="line">		&#125;);</span><br><span class="line">	navigator.<span class="property">clipboard</span>.<span class="title function_">write</span>([t])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stopMaskScroll</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>)) &#123;</span><br><span class="line">		<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;mousewheel&quot;</span>, (<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">        &#125;), !<span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>)) &#123;</span><br><span class="line">		<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;mousewheel&quot;</span>, (<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">        &#125;), !<span class="number">1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addRightMenuClickEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">hideRightMenu</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;contextmenu&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-backward&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">back</span>();</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-forward&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">history</span>.<span class="title function_">forward</span>();</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-refresh&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-darkmode&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">switchDarkMode</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-reading&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">switchReadMode</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-commentBarrage&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">        rm.<span class="title function_">switchCommentBarrage</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-postlink&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">copyPostUrl</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copytext&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">rightmenuCopyText</span>(selectTextNow);</span><br><span class="line">        btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;复制成功，复制和转载请标注本文地址&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-pastetext&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">pasteText</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-commenttext&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">commentText</span>(selectTextNow);</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-searchBaidu&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">searchBaidu</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-newwindow&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">open</span>(domhref);</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copylink&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">copyLink</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copyimg&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">writeClipImg</span>(domImgSrc);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-downloadimg&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">downloadImage</span>(domImgSrc, <span class="string">&quot;MeuiCat&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copylinkimg&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title class_">CopyLinkImg</span>(domImgSrc);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-randomPost&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">        <span class="title function_">toRandomPost</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-translate&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">translate</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-asidehide&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, rm.<span class="property">hideAsideBtn</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">selceText</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> e;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">getSelection</span>) &#123;</span><br><span class="line">        e = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">selection</span>) &#123;</span><br><span class="line">        e = <span class="variable language_">document</span>.<span class="property">selection</span>.<span class="title function_">createRange</span>().<span class="property">text</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    selectTextNow = e || <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">oncontextmenu</span> = <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span> &gt; <span class="number">768</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> n = e.<span class="property">clientX</span> + <span class="number">10</span>,</span><br><span class="line">            t = e.<span class="property">clientY</span>,</span><br><span class="line">            p = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.rightMenuPost&quot;</span>),</span><br><span class="line">            o = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.rightMenuOther&quot;</span>),</span><br><span class="line">            i = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.rightMenuPlugin&quot;</span>),</span><br><span class="line">            g = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-commentBarrage&quot;</span>),</span><br><span class="line">            c = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copytext&quot;</span>),</span><br><span class="line">            r = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-pastetext&quot;</span>),</span><br><span class="line">            m = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-commenttext&quot;</span>),</span><br><span class="line">            d = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-search&quot;</span>),</span><br><span class="line">            s = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-searchBaidu&quot;</span>),</span><br><span class="line">            a = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-newwindow&quot;</span>),</span><br><span class="line">            u = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copylink&quot;</span>),</span><br><span class="line">            l = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copyimg&quot;</span>),</span><br><span class="line">            h = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-downloadimg&quot;</span>),</span><br><span class="line">            w = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-copylinkimg&quot;</span>),</span><br><span class="line">            y = e.<span class="property">target</span>.<span class="property">href</span>,</span><br><span class="line">            M = e.<span class="property">target</span>.<span class="property">currentSrc</span>,</span><br><span class="line">            b = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        o.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">        globalEvent = e;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (selectTextNow &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">getSelection</span>()) &#123;</span><br><span class="line">            b = <span class="literal">true</span>;</span><br><span class="line">            c.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>) ? m.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span> : m.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            d.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            s.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            p.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            c.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            m.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            d.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            s.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (y) &#123;</span><br><span class="line">            b = <span class="literal">true</span>;</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            u.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            domhref = y;</span><br><span class="line">            p.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            a.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            u.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (M) &#123;</span><br><span class="line">            b = <span class="literal">true</span>;</span><br><span class="line">            l.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            h.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            w.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            domImgSrc = M;</span><br><span class="line">            p.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            l.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            h.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            w.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>() === <span class="string">&quot;input&quot;</span> || e.<span class="property">target</span>.<span class="property">tagName</span>.<span class="title function_">toLowerCase</span>() === <span class="string">&quot;textarea&quot;</span>) &#123;</span><br><span class="line">            b = <span class="literal">true</span>;</span><br><span class="line">            r.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            p.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            r.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (b) &#123;</span><br><span class="line">            o.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            i.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            i.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#body-wrap.post&quot;</span>) ? p.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span> : p.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.read-mode&quot;</span>) ? g.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span> : g.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line"></span><br><span class="line">        rm.<span class="title function_">reloadrmSize</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (n + rmWidth &gt; <span class="variable language_">window</span>.<span class="property">innerWidth</span>) &#123;</span><br><span class="line">            n -= rmWidth + <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (t + rmHeight &gt; <span class="variable language_">window</span>.<span class="property">innerHeight</span>) &#123;</span><br><span class="line">            t -= t + rmHeight - <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        rm.<span class="title function_">showRightMenu</span>(<span class="literal">true</span>, t, n);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;flex&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onmouseup</span> = <span class="variable language_">document</span>.<span class="property">ondbclick</span> = selceText</span><br><span class="line"></span><br><span class="line">rm.<span class="property">showRightMenu</span> = <span class="keyword">function</span>(<span class="params">e, n = <span class="number">0</span>, t = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> rightMenu = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>);</span><br><span class="line">    rightMenu.<span class="property">style</span>.<span class="property">top</span> = n + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">    rightMenu.<span class="property">style</span>.<span class="property">left</span> = t + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (e) &#123;</span><br><span class="line">        rightMenu.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">        <span class="title function_">stopMaskScroll</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        rightMenu.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">hideRightMenu</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    rm.<span class="title function_">showRightMenu</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu-mask&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">reloadrmSize</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    rmWidth = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>).<span class="property">offsetWidth</span>;</span><br><span class="line">    rmHeight = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>).<span class="property">offsetHeight</span>;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">switchDarkMode</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">night_to_day</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>)</span><br><span class="line">        .<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>()</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">switchReadMode</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> body = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.read-mode&quot;</span>)) &#123;</span><br><span class="line">        body.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;read-mode&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> newButton = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;button&#x27;</span>);</span><br><span class="line">        newButton.<span class="property">type</span> = <span class="string">&#x27;button&#x27;</span>;</span><br><span class="line">        newButton.<span class="property">className</span> = <span class="string">&#x27;iconfont icat-exit-mode exit-readmode&#x27;</span>;</span><br><span class="line">        body.<span class="title function_">appendChild</span>(newButton);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> <span class="title function_">clickFn</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">            body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;read-mode&#x27;</span>);</span><br><span class="line">            newButton.<span class="title function_">remove</span>();</span><br><span class="line">            newButton.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        newButton.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-reading&quot;</span>).<span class="title function_">querySelector</span>(<span class="string">&quot;span&quot;</span>).<span class="property">textContent</span> = <span class="string">&quot;退出阅读模式&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;read-mode&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> exitButton = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.exit-readmode&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (exitButton) &#123;</span><br><span class="line">            exitButton.<span class="title function_">remove</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-reading&quot;</span>).<span class="title function_">querySelector</span>(<span class="string">&quot;span&quot;</span>).<span class="property">textContent</span> = <span class="string">&quot;阅读模式&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">switchCommentBarrage</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> commentBarrage = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.comment-barrage&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (commentBarrage) &#123;</span><br><span class="line">        <span class="keyword">if</span> (commentBarrage.<span class="property">style</span>.<span class="property">display</span> === <span class="string">&quot;block&quot;</span>) &#123;</span><br><span class="line">            commentBarrage.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-commentBarrage&quot;</span>).<span class="title function_">querySelector</span>(<span class="string">&quot;span&quot;</span>).<span class="property">textContent</span> = <span class="string">&quot;显示热评&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#consoleCommentBarrage&quot;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;on&quot;</span>);</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;commentBarrageSwitch&quot;</span>, <span class="string">&quot;false&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            commentBarrage.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;menu-commentBarrage&quot;</span>).<span class="title function_">querySelector</span>(<span class="string">&quot;span&quot;</span>).<span class="property">textContent</span> = <span class="string">&quot;关闭热评&quot;</span>;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#consoleCommentBarrage&quot;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;on&quot;</span>);</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&quot;commentBarrageSwitch&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">copyUrl</span> = <span class="keyword">function</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> input = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;input&quot;</span>);</span><br><span class="line">    input.<span class="property">id</span> = <span class="string">&quot;copyVal&quot;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(input);</span><br><span class="line">    input.<span class="property">value</span> = url;</span><br><span class="line">    input.<span class="title function_">select</span>();</span><br><span class="line">    input.<span class="title function_">setSelectionRange</span>(<span class="number">0</span>, input.<span class="property">value</span>.<span class="property">length</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;copy&quot;</span>);</span><br><span class="line">    input.<span class="title function_">remove</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">copyPostUrl</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> url = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>;</span><br><span class="line">    rm.<span class="title function_">copyUrl</span>(url);</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;复制本页链接地址成功&quot;</span>, <span class="literal">false</span>, <span class="number">2000</span>);</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">rightmenuCopyText</span> = <span class="keyword">function</span>(<span class="params">text</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (navigator.<span class="property">clipboard</span>) &#123;</span><br><span class="line">        navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(text);</span><br><span class="line">    &#125;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">readClipboard</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (navigator.<span class="property">clipboard</span>) &#123;</span><br><span class="line">        navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">text</span>) =&gt;</span> rm.<span class="title function_">insertAtCaret</span>(globalEvent.<span class="property">target</span>, text));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">insertAtCaret</span> = <span class="keyword">function</span>(<span class="params">input, text</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> start = input.<span class="property">selectionStart</span>;</span><br><span class="line">    <span class="keyword">const</span> end = input.<span class="property">selectionEnd</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">selection</span>) &#123;</span><br><span class="line">        input.<span class="title function_">focus</span>();</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">selection</span>.<span class="title function_">createRange</span>().<span class="property">text</span> = text;</span><br><span class="line">        input.<span class="title function_">focus</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (start || start === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> scrollTop = input.<span class="property">scrollTop</span>;</span><br><span class="line">        input.<span class="property">value</span> = input.<span class="property">value</span>.<span class="title function_">substring</span>(<span class="number">0</span>, start) + text + input.<span class="property">value</span>.<span class="title function_">substring</span>(end, input.<span class="property">value</span>.<span class="property">length</span>);</span><br><span class="line">        input.<span class="title function_">focus</span>();</span><br><span class="line">        input.<span class="property">selectionStart</span> = start + text.<span class="property">length</span>;</span><br><span class="line">        input.<span class="property">selectionEnd</span> = start + text.<span class="property">length</span>;</span><br><span class="line">        input.<span class="property">scrollTop</span> = scrollTop;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        input.<span class="property">value</span> += text;</span><br><span class="line">        input.<span class="title function_">focus</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">pasteText</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    rm.<span class="title function_">readClipboard</span>();</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">commentText</span> = <span class="keyword">function</span> (<span class="params">txt</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> inputs = [<span class="string">&quot;#wl-edit&quot;</span>, <span class="string">&quot;.el-textarea__inner&quot;</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; inputs.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> el = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(inputs[i]);</span><br><span class="line">        <span class="keyword">if</span> (el != <span class="literal">null</span>) &#123;</span><br><span class="line">            el.<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">&#x27;input&#x27;</span>, &#123; <span class="attr">bubble</span>: <span class="literal">true</span>, <span class="attr">cancelable</span>: <span class="literal">true</span> &#125;));</span><br><span class="line">            el.<span class="property">value</span> = <span class="string">&#x27;&gt; &#x27;</span> + txt.<span class="title function_">replace</span>(<span class="regexp">/\n/g</span>, <span class="string">&#x27;\n&gt; &#x27;</span>) + <span class="string">&#x27;\n\n&#x27;</span>;</span><br><span class="line">            el.<span class="title function_">focus</span>();</span><br><span class="line">            el.<span class="title function_">setSelectionRange</span>(-<span class="number">1</span>, -<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">searchBaidu</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;即将跳转到百度搜索&quot;</span>, <span class="literal">false</span>, <span class="number">2000</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;https://www.baidu.com/s?wd=&quot;</span> + selectTextNow);</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">copyLink</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    rm.<span class="title function_">rightmenuCopyText</span>(domhref);</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;已复制链接地址&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">writeClipImg</span> = <span class="keyword">function</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> lazyTime = <span class="string">&quot;2000&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> waitTime = <span class="string">&quot;localhost&quot;</span> === <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hostname</span> || <span class="string">&quot;127.0.0.1&quot;</span> === <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hostname</span> ? <span class="number">0</span> : <span class="number">10000</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;按下复制&quot;</span>);</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;正在下载中，请稍后&quot;</span>, <span class="literal">false</span>, waitTime);</span><br><span class="line">    <span class="keyword">if</span> (rm.<span class="property">downloadimging</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        rm.<span class="property">downloadimging</span> = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">copyImage</span>(url);</span><br><span class="line">            btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;复制成功！图片已添加盲水印，请遵守版权协议&quot;</span>);</span><br><span class="line">            rm.<span class="property">downloadimging</span> = <span class="literal">false</span>;</span><br><span class="line">        &#125;, lazyTime);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">downloadImage</span> = <span class="keyword">function</span>(<span class="params">url, name</span>) &#123;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">    <span class="keyword">if</span> (rm.<span class="property">downloadimging</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        rm.<span class="property">downloadimging</span> = <span class="literal">true</span>;</span><br><span class="line">        btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;正在下载中，请稍后&quot;</span>, <span class="literal">false</span>, <span class="number">10000</span>);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">            img.<span class="title function_">setAttribute</span>(<span class="string">&quot;crossOrigin&quot;</span>, <span class="string">&quot;anonymous&quot;</span>);</span><br><span class="line">            img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">                canvas.<span class="property">width</span> = img.<span class="property">width</span>;</span><br><span class="line">                canvas.<span class="property">height</span> = img.<span class="property">height</span>;</span><br><span class="line">                <span class="keyword">let</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">                ctx.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>, img.<span class="property">width</span>, img.<span class="property">height</span>);</span><br><span class="line">                <span class="keyword">let</span> dataURL = canvas.<span class="title function_">toDataURL</span>(<span class="string">&quot;image/png&quot;</span>);</span><br><span class="line">                <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">                <span class="keyword">let</span> event = <span class="keyword">new</span> <span class="title class_">MouseEvent</span>(<span class="string">&quot;click&quot;</span>);</span><br><span class="line">                a.<span class="property">download</span> = name || <span class="string">&quot;photo&quot;</span>;</span><br><span class="line">                a.<span class="property">href</span> = dataURL;</span><br><span class="line">                a.<span class="title function_">dispatchEvent</span>(event);</span><br><span class="line">            &#125;;</span><br><span class="line">            img.<span class="property">src</span> = url;</span><br><span class="line">            btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;图片已添加盲水印，请遵守版权协议&quot;</span>);</span><br><span class="line">            rm.<span class="property">downloadimging</span> = <span class="literal">false</span>;</span><br><span class="line">        &#125;, <span class="number">10000</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;有正在进行中的下载，请稍后再试&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">CopyLinkImg</span> = <span class="keyword">function</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    rm.<span class="title function_">rightmenuCopyText</span>(url);</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;已复制图片链接&quot;</span>);</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">translate</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;translateLink&quot;</span>).<span class="title function_">click</span>();</span><br><span class="line">&#125;,</span><br><span class="line">rm.<span class="property">hideAsideBtn</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> htmlDom = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">classList</span>;</span><br><span class="line">    <span class="keyword">const</span> saveStatus = htmlDom.<span class="title function_">contains</span>(<span class="string">&#x27;hide-aside&#x27;</span>) ? <span class="string">&#x27;show&#x27;</span> : <span class="string">&#x27;hide&#x27;</span>;</span><br><span class="line">    saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;aside-status&#x27;</span>, saveStatus, <span class="number">2</span>);</span><br><span class="line">    htmlDom.<span class="title function_">toggle</span>(<span class="string">&#x27;hide-aside&#x27;</span>);</span><br><span class="line">    rm.<span class="title function_">hideRightMenu</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 右键菜单</span></span><br></pre></td></tr></table></figure><ul><li>在 <code>_config.butterfly.yml</code> 主题配置文件中 <code>inject</code> 下的 <code>bottom</code> 引入 <code>rightmenu.js</code></li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  <span class="string">···</span></span><br><span class="line"></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">···</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/rightmenu.js&quot;&gt;&lt;/script&gt;</span> <span class="comment"># 右键菜单</span></span><br><span class="line"></span><br><span class="line">  <span class="string">···</span></span><br></pre></td></tr></table></figure></div></details><h1 id="声明三重曲"><a href="#声明三重曲" class="headerlink" title="声明三重曲"></a>声明三重曲</h1><blockquote><p>仅供参考</p></blockquote><h2 id="隐私协议"><a href="#隐私协议" class="headerlink" title="隐私协议"></a>隐私协议</h2><ul><li>创建 <code>[blogRoot]/source/privacy/index.md</code> 页面，配置以下内容</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 隐私政策</span><br><span class="line">date: 2023-03-14 12:04:24</span><br><span class="line">top<span class="emphasis">_img: false</span></span><br><span class="line"><span class="emphasis">aside: false</span></span><br><span class="line"><span class="emphasis">comments: false</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&lt;!-- 页面内容 --&gt;</span></span><br></pre></td></tr></table></figure><ul><li>新增 <code>[blogRoot]/source/privacy/index.md</code> 页面内容</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.meuicat.com/gh/UAParser.js/ua-parser.min.js&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line">function getIpInfo() &#123;</span><br><span class="line">  var fetchUrl = &quot;https://api.qjqq.cn/api/Local&quot;</span><br><span class="line">  fetch(fetchUrl)</span><br><span class="line"><span class="code">    .then(res =&gt; res.json())</span></span><br><span class="line"><span class="code">    .then(json =&gt; &#123;</span></span><br><span class="line"><span class="code">      var ip = json.ip;</span></span><br><span class="line"><span class="code">      var country = json.data.country;</span></span><br><span class="line"><span class="code">      var prov = json.data.prov;</span></span><br><span class="line"><span class="code">      var city = json.data.city;</span></span><br><span class="line"><span class="code">      var district = json.data.district;</span></span><br><span class="line"><span class="code">      var precise_radius = json.data.radius;</span></span><br><span class="line"><span class="code">      var radius = Math.floor(precise_radius);</span></span><br><span class="line"><span class="code">      var isp = json.data.isp;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentIp&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = ip;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentCountry&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = country;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentProv&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = prov;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentCity&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = city;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentDistrict&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = district;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentRadius&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = radius + &#x27;公里&#x27;;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentISP&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = isp;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">      // 使用ua-parser-js解析User-Agent</span></span><br><span class="line"><span class="code">      var parser = new UAParser();</span></span><br><span class="line"><span class="code">      var result = parser.getResult();</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentOS&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = result.os.name + &quot; &quot; + result.os.version;</span></span><br><span class="line"><span class="code">      document.getElementById(&quot;userAgentBrowser&quot;)</span></span><br><span class="line"><span class="code">        .innerHTML = result.browser.name + &quot; &quot; + result.browser.version;</span></span><br><span class="line"><span class="code">    &#125;)</span></span><br><span class="line"><span class="code">&#125; // 获取ip信息</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">本站非常重视用户的隐私和个人信息保护。你在使用网站时，可能会收集和使用你的相关信息；通过《隐私政策》向你说明在你访问 <span class="code">`meuicat.com`</span>网站时，如何收集、使用、保存、共享和转让这些信息</span><br><span class="line"></span><br><span class="line"><span class="section">## 最新更新时间</span></span><br><span class="line"></span><br><span class="line">协议最新更新时间为：<span class="strong">**2023-09-22**</span></span><br><span class="line"></span><br><span class="line"><span class="section">### 一、在访问时如何收集和使用你的个人信息</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**在访问时，收集访问信息的服务会收集不限于以下信息：**</span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;Peru&quot;</span>&gt;</span></span></span></span><span class="strong">**网络身份标识信息**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span>（浏览器UA、IP地址）</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;Peru&quot;</span>&gt;</span></span></span></span><span class="strong">**设备信息**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;Peru&quot;</span>&gt;</span></span></span></span><span class="strong">**浏览过程**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span>（操作方式、浏览方式与时长、性能与网络加载情况）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="strong">**在访问时，本站内置的第三方服务会通过以下或更多途径，来获取你的以下或更多信息：**</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**51la统计工具**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 会收集你的访问信息，用于网站维护</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**灵雀应用监控平台**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 会收集你的访问操作过程和资源加载情况，用于网站维护</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**busuanzi统计**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 仅加载统计访问量</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**阿里云**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 会收集你的访问信息</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**腾讯Codesign**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 仅提供icon图标显示加载服务</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**多吉云CDN**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 、<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**无畏云CDN**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 会收集你的访问信息，用于网站加速</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="strong">**在访问时，本人仅会处于以下目的，使用你的个人信息：**</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 用于网站的优化与文章分类，用户优化文章</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 恶意访问识别，用于维护网站</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 恶意攻击排查，用于维护网站</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 网站点击情况监测，用于优化网站页面</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 网站加载情况监测，用于优化网站性能</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 用于网站搜索结果优化</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 浏览数据的展示</span><br><span class="line"></span><br><span class="line"><span class="strong">**第三方信息获取方将您的数据用于以下用途：**</span></span><br><span class="line">第三方可能会用于其他目的，详情请访问对应第三方服务提供的隐私协议</span><br><span class="line"></span><br><span class="line"><span class="strong">**你应该知道在你访问的时候不限于以下信息会被第三方获取并使用：**</span></span><br><span class="line">第三方部分为了抵抗攻击、使用不同节点cdn加速等需求会收集不限于以下信息</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="language-javascript">&lt;div <span class="keyword">class</span>=<span class="string">&quot;table-wrap&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;table&gt;</span></span><br><span class="line"><span class="code">        &lt;thead&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;th&gt;类型&lt;div style=&quot;width:100px&quot;&gt;&lt;/div&gt;&lt;/th&gt;</span></span><br><span class="line"><span class="code">                &lt;th&gt;内容&lt;/th&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">        &lt;/thead&gt;</span></span><br><span class="line"><span class="code">        &lt;tbody&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td td colspan=&quot;2&quot;&gt;&lt;b style=&quot;color: var(--icat-blue);font-size: 16px;&quot;&gt;网络信息&lt;/b&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">             &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;IP地址&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentIp&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;国家&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentCountry&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;省份&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentProv&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;城市&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentCity&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;区域&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentDistrict&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;偏差半径&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentRadius&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;运营商&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentISP&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td td colspan=&quot;2&quot;&gt;&lt;b style=&quot;color: var(--icat-blue);font-size: 16px;&quot;&gt;设备信息&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;操作系统&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentOS&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">            &lt;tr&gt;</span></span><br><span class="line"><span class="code">                &lt;td&gt;浏览器&lt;/td&gt;&lt;td&gt;&lt;div id=&quot;userAgentBrowser&quot;&gt;未能获取到信息&lt;/div&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="code">            &lt;/tr&gt;</span></span><br><span class="line"><span class="code">        &lt;/tbody&gt;</span></span><br><span class="line"><span class="code">    &lt;/table&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="quote">&gt; 此页面如果未能获取到信息并不代表无法读取上述信息，以实际情况为准</span></span><br><span class="line"></span><br><span class="line"><span class="section">### 二、在评论时如何收集和使用你的个人信息</span></span><br><span class="line"></span><br><span class="line">评论使用的是无登陆系统的匿名评论系统，你可以自愿填写真实的、或者虚假的信息作为你评论的展示信息。<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;Peru&quot;</span>&gt;</span></span></span></span><span class="strong">**鼓励你使用不易被人恶意识别的昵称进行评论**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span>，但是建议你填写<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;Peru&quot;</span>&gt;</span></span></span></span><span class="strong">**真实的邮箱**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span>以便收到回复（邮箱信息不会被公开）</span><br><span class="line"></span><br><span class="line">在你评论时，会额外收集你的个人信息</span><br><span class="line"></span><br><span class="line"><span class="section">#### 在评论时，本站内置的第三方服务会通过以下或更多途径，来获取你的相关信息：</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;ForestGreen&quot;</span>&gt;</span></span></span></span><span class="strong">**cravatar**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span> 会收集你的访问信息、评论填写的个人信息用于展示头像</span><br><span class="line"></span><br><span class="line"><span class="section">#### 在访问时，本人仅会处于以下目的，收集并使用以下信息：</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 评论时会记录你的QQ帐号（如果在邮箱位置填写QQ邮箱或QQ号），方便获取你的QQ头像。如果使用QQ邮箱但不想展示QQ头像，可以填写不含QQ号的QQ邮箱。（主动，存储）</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 评论时会记录你的邮箱，当我回复后会通过邮件通知你（主动，存储，不会公开邮箱）</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 评论时会记录你的网址，用于点击头像时快速进入你的网站（主动，存储）</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 评论时会记录你的IP地址，作为反垃圾的用户判别依据（被动，存储，不会公开IP，会公开IP所在城市）</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 评论会记录你的浏览器代理，用作展示系统版本、浏览器版本方便展示你使用的设备，快速定位问题（被动，存储）</span><br><span class="line"></span><br><span class="line"><span class="section">### 三、如何使用 Cookies 和本地 LocalStorage 存储</span></span><br><span class="line"></span><br><span class="line">本站为实现深色模式切换，不蒜子的uv统计等功能，会在你的浏览器中进行本地存储，你可以随时清除浏览器中保存的所有 Cookies 以及 LocalStorage，不影响你的正常使用</span><br><span class="line"></span><br><span class="line">本博客中的以下业务会在你的计算机上主动存储数据：</span><br><span class="line"></span><br><span class="line"><span class="section">#### <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;Peru&quot;</span>&gt;</span></span></span></span><span class="strong">**内置服务**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span></span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 即刻短文</span><br><span class="line"><span class="bullet">*</span> 生活相册</span><br><span class="line"><span class="bullet">*</span> 人生足迹</span><br><span class="line"><span class="bullet">*</span> 评论系统</span><br><span class="line"></span><br><span class="line"><span class="section">#### <span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">&quot;Peru&quot;</span>&gt;</span></span></span></span><span class="strong">**第三方服务**</span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span></span></span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 51la分析</span><br><span class="line"><span class="bullet">*</span> 灵雀监控</span><br><span class="line"><span class="bullet">*</span> busuanzi统计</span><br><span class="line"><span class="bullet">*</span> 多吉云CDN</span><br><span class="line"><span class="bullet">*</span> 无畏云CDN</span><br><span class="line"></span><br><span class="line">关于如何使用你的Cookies，请访问 [<span class="string">**Cookies政策**</span>](<span class="link">/cookies/</span>)</span><br><span class="line">关于如何[<span class="string">**在 Chrome 中清除、启用和管理 Cookie**</span>](<span class="link">https://support.google.com/chrome/answer/95647?co=GENIE.Platform=Desktop&amp;hl=zh-Hans</span>)</span><br><span class="line"></span><br><span class="line"><span class="section">### 四、如何共享、转让你的个人信息</span></span><br><span class="line">本人不会与任何公司、组织和个人共享你的隐私信息</span><br><span class="line"></span><br><span class="line">本人不会将你的个人信息转让给任何公司、组织和个人</span><br><span class="line"></span><br><span class="line">第三方服务的共享、转让情况详见对应服务的隐私协议</span><br><span class="line"></span><br><span class="line"><span class="section">### 五、附属协议</span></span><br><span class="line">当监测到存在恶意访问、恶意请求、恶意攻击、恶意评论的行为时，为了防止增大受害范围，可能会临时将你的ip地址及访问信息短期内添加到黑名单，短期内禁止访问</span><br><span class="line"></span><br><span class="line">此黑名单可能被公开，并共享给其他站点（主体并非本人）使用，包括但不限于：IP地址、设备信息、地理位置</span><br></pre></td></tr></table></figure><h2 id="Cookies政策"><a href="#Cookies政策" class="headerlink" title="Cookies政策"></a>Cookies政策</h2><ul><li>创建 <code>[blogRoot]/source/cookies/index.md</code> 页面，配置以下内容</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Cookies</span><br><span class="line">date: 2023-03-14 13:07:26</span><br><span class="line">top<span class="emphasis">_img: false</span></span><br><span class="line"><span class="emphasis">aside: false</span></span><br><span class="line"><span class="emphasis">comments: false</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&lt;!-- 页面内容 --&gt;</span></span><br></pre></td></tr></table></figure><ul><li>新增 <code>[blogRoot]/source/cookies/index.md</code> 页面内容</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">我使用Cookies来保持我的网站和我开发的软件的可靠性，安全性和个性化。当你接受Cookies时，这有助于通过我识别你的身份、记住你的偏好、或提供个性化用户体验来帮助我改善网站</span><br><span class="line"></span><br><span class="line">本政策应与我的 [<span class="string">**隐私政策**</span>](<span class="link">/privacy/</span>) 一起阅读，该隐私政策解释了我如何使用个人信息</span><br><span class="line"></span><br><span class="line">如果你对我使用你的个人信息或Cookies的方式有任何疑问，请通过 <span class="code">`meuicat_718@163.com`</span> 与我联系</span><br><span class="line"></span><br><span class="line">如果你想管理你的Cookies，请按照下面“如何管理Cookies”部分中的说明进行操作。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 什么是Cookies？</span></span><br><span class="line"></span><br><span class="line">Cookies是一种小型文本文件，当你访问网站时，网站可能会将这些文件放在你的计算机或设备上。Cookies会帮助网站或其他网站在你下次访问时识别你的设备。网站信标、像素或其他类似文件也可以做同样的事情。我在此政策中使用术语“Cookies”来指代以这种方式收集信息的所有文件</span><br><span class="line"></span><br><span class="line">Cookies提供许多功能。例如，他们可以帮助我记住你喜欢深色模式还是浅色模式，分析我网站的效果</span><br><span class="line"></span><br><span class="line">大多数网站使用Cookies来收集和保留有关其访问者的个人信息。大多数Cookies收集一般信息，例如访问者如何到达和使用我的网站，他们使用的设备，他们的互联网协议地址（IP地址），他们正在查看的页面及其大致位置（例如，我将能够认识到你正在从深圳访问我的网站）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># Cookies的目的</span></span><br><span class="line"></span><br><span class="line">我将Cookies分为以下类别:</span><br><span class="line"></span><br><span class="line">| 用途 | 说明 |</span><br><span class="line">| :----: | :----: |</span><br><span class="line">| 授权 | 你访问我的网站时，我可通过 Cookie 提供正确信息，为你打造个性化的体验。例如：Cookie会告知你通过搜索引擎搜索的具体内容来改善文章的标题优化关键词、或者创建更符合你搜索需求的文章内容 |</span><br><span class="line">| 安全措施 | 我通过 Cookie 启用及支持安全功能，监控和防止可疑活动、欺诈性流量和违反版权协议的行为 |</span><br><span class="line">| 偏好、功能和服务 | 我使用功能性Cookies来让我记住你的偏好，或保存你向我提供的有关你的喜好或其他信息 |</span><br><span class="line">| 个性化广告 | 本站及所属旗下产品、IP没有个性化广告 |</span><br><span class="line">| 网站性能、分析和研究 | 我使用这些cookie来监控网站性能。这使我能够通过快速识别和解决出现的任何问题来提供高质量的体验 |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 我的网站上的第三方Cookies</span></span><br><span class="line"></span><br><span class="line">我还在我的网站上使用属于上述类别的第三方Cookies，用于以下目的：</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 帮助我监控网站上的流量；</span><br><span class="line"><span class="bullet">*</span> 识别欺诈或非人为性流量；</span><br><span class="line"><span class="bullet">*</span> 协助市场调研；</span><br><span class="line"><span class="bullet">*</span> 改善网站功能；</span><br><span class="line"><span class="bullet">*</span> 监督我的版权协议和隐私政策的遵守情况</span><br><span class="line"></span><br><span class="line">| 第三方服务商 | 用途 |</span><br><span class="line">| :----: | :----: |</span><br><span class="line">| 51.la | 用于统计站内访问情况，进行针对性优化异常 |</span><br><span class="line">| 灵雀应用监控 | 监控系统将网站所发生的程序异常、资源加载异常、网络请求异常上报汇总，同时对页面和资源进行性能监控和卡顿监测，分析不同维度下的耗时情况，快速解决遇到的问题 |</span><br><span class="line">| Twikoo | Twikoo评论服务，自建存储私有，用于本站的评论服务 |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 如何管理Cookies？</span></span><br><span class="line"></span><br><span class="line">在将Cookie放置在你的计算机或设备上之前，系统会显示一个弹出窗口，要求你同意设置这些Cookie。通过同意放置Cookies，你可以让我为你提供最佳的体验和服务。如果你愿意，你可以通过浏览器设置关闭本站的Cookie来拒绝同意放置Cookies；但是，我网站的部分功能可能无法完全或按预期运行。你有机会允许和/或拒绝使用Cookie。你可以通过访问浏览器设置随时返回到你的Cookie偏好设置以查看和/或删除它们</span><br><span class="line"></span><br><span class="line">除了我提供的控件之外，你还可以选择在Internet浏览器中启用或禁用Cookie。大多数互联网浏览器还允许你选择是要禁用所有Cookie还是仅禁用第三方Cookie。默认情况下，大多数互联网浏览器都接受Cookie，但这可以更改。有关详细信息，请参阅Internet浏览器中的帮助菜单或设备随附的文档</span><br><span class="line"></span><br><span class="line">以下链接提供了有关如何在所有主流浏览器中控制Cookie的说明：</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> [<span class="string">**Google Chrome**</span>](<span class="link">https://support.google.com/chrome/answer/95647?hl=en</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">**IE**</span>](<span class="link">https://support.microsoft.com/en-us/help/260971/description-of-cookies</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">**Safari（桌面版）**</span>](<span class="link">https://support.apple.com/guide/safari/manage-cookies-and-website-data-sfri11471/mac</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">**Safari（移动版）**</span>](<span class="link">https://support.apple.com/en-us/HT201265</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">**火狐浏览器**</span>](<span class="link">https://support.mozilla.org/en-US/kb/Cookies-information-websites-store-on-your-computer</span>)</span><br><span class="line"><span class="bullet">*</span> [<span class="string">**Android浏览器**</span>](<span class="link">http://support.google.com/ics/nexus/bin/answer.py?hl=en&amp;answer=2425067</span>)</span><br><span class="line"></span><br><span class="line">如你使用其他浏览器，请参阅浏览器制造商提供的文档。</span><br><span class="line">有关Cookies以及如何管理Cookies的更多信息，请访问：</span><br><span class="line"></span><br><span class="line">[<span class="string">**wikipedia.org**</span>](<span class="link">https://zh.wikipedia.org/wiki/Cookie</span>) 、 [<span class="string">**allaboutCookies.org**</span>](<span class="link">https://www.allaboutcookies.org/</span>) 或 [<span class="string">**aboutCookies.org**</span>](<span class="link">https://www.aboutcookies.org/</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 更多信息</span></span><br><span class="line"></span><br><span class="line">有关我数据处理的更多信息，请参阅我的隐私政策。如果你对此Cookie政策有任何疑问，请通过 <span class="code">`meuicat_718@163.com`</span> 与我联系</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 对此Cookie政策的更改</span></span><br><span class="line"></span><br><span class="line">我可能对此Cookie政策所做的任何更改都将发布在此页面上。如果更改很重要，我会在我的主页或应用上明确指出该政策已更新</span><br></pre></td></tr></table></figure><h2 id="版权协议"><a href="#版权协议" class="headerlink" title="版权协议"></a>版权协议</h2><ul><li>创建 <code>[blogRoot]/source/cc/index.md</code> 页面，配置以下内容</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 版权协议</span><br><span class="line">date: 2023-03-14 13:27:27</span><br><span class="line">top<span class="emphasis">_img: false</span></span><br><span class="line"><span class="emphasis">aside: false</span></span><br><span class="line"><span class="emphasis">comments: false</span></span><br><span class="line"><span class="emphasis">---</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&lt;!-- 页面内容 --&gt;</span></span><br></pre></td></tr></table></figure><ul><li>新增 <code>[blogRoot]/source/cc/index.md</code> 页面内容</li></ul><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">为了保持文章质量，并保持互联网的开放共享精神，保持页面流量的稳定，综合考虑下本站的所有原创文章均采用cc协议中比较严格的[<span class="string">署名-非商业性使用-禁止演绎 4.0 国际</span>](<span class="link">https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh</span>)标准。这篇文章主要想能够更加清楚明白的介绍本站的协议标准和要求。方便你合理的使用本站的文章</span><br><span class="line"></span><br><span class="line">本站无广告嵌入和商业行为。违反协议的行为不仅会损害原作者的创作热情，而且会影响整个版权环境。强烈呼吁你能够在转载时遵守协议。遵守协议的行为几乎不会对你的目标产生负面影响，鼓励创作环境是每个创作者的期望</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 哪些文章适于本协议？</span></span><br><span class="line"></span><br><span class="line">所有原创内容均在文章标题顶部，以及文章结尾的版权说明部分展示</span><br><span class="line"></span><br><span class="line">原创内容的非商用转载必须为完整转载且标注出处的 <span class="code">`带有完整url链接`</span> 或 <span class="code">`访问原文`</span> 之类字样的超链接</span><br><span class="line"></span><br><span class="line">作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 你可以做什么？</span></span><br><span class="line"></span><br><span class="line">只要你遵守本页的许可，你可以自由地共享文章的内容 — 在任何媒介以任何形式复制、发行本作品。并且无需通知作者</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 你需要遵守什么样的许可？</span></span><br><span class="line"></span><br><span class="line"><span class="section">### 署名</span></span><br><span class="line"></span><br><span class="line">你必须标注内容的来源，你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接提升阅读体验）</span><br><span class="line"></span><br><span class="line"><span class="section">### 禁止商用</span></span><br><span class="line"></span><br><span class="line">本站内容免费向互联网所有用户提供，分享本站文章时禁止商业性使用、禁止在转载页面中插入广告（例如谷歌广告、百度广告）、禁止阅读的拦截行为（例如关注公众号、下载App后观看文章）</span><br><span class="line"></span><br><span class="line"><span class="section">### 禁止演绎</span></span><br><span class="line"><span class="bullet">*</span> 分享全部内容（无修改）</span><br><span class="line">你需要在文章开头部分（或者明显位置）标注原文章链接（建议使用超链接）</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 分享部分截取内容或者衍生创作</span><br><span class="line">目前本站全部原创文章的衍生品禁止公开分享和分发。如有更好的修改建议，可以在对应文章下留言。如有衍生创作需求，可以在评论中联系。</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 作为参考资料截取部分内容</span><br><span class="line">作为参考资料的情况可以无需完整转载，摘录所需要的部分内容即可，但需标注出处。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 什么内容会被版权保护</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**包括但不限于：**</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> 文章封面图片</span><br><span class="line"><span class="bullet">*</span> 文章标题和正文</span><br><span class="line"><span class="bullet">*</span> 站点图片素材（不含主题自带素材）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 例外情况</span></span><br><span class="line">本着友好互相进步的原则，被本站友链收录的博客允许博客文章内容的衍生品的分享和分发，但仍需标注出处</span><br><span class="line"></span><br><span class="line">本着互联网开放精神，你可以在博客文章下方留言要求授权博文的衍生品的分享和分发，标注你的网站地址</span><br><span class="line"></span><br><span class="line">关于主题样式的版权信息，可以详见[<span class="string">Butterfly</span>](<span class="link">https://github.com/jerryc127/hexo-theme-butterfly/</span>)主题说明，本站已经历多次版本迭代，[<span class="string">查看具体更新</span>](<span class="link">/update/</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="section"># 网站源代码协议</span></span><br><span class="line">网站源代码（仅包含css、js）的代码部分采用GPL协议</span><br></pre></td></tr></table></figure><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><a href="https://blog.zhheo.com/p/5e931b65.html" rel="external nofollow noreferrer" target="_blank" title="Butterfly魔改：自定义右键菜单" referrerpolicy="no-referrer" class="link_card"><div class="link_icon"><img src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://bu.dusays.com/2022/12/28/63ac2812183aa.png" class="no-lightbox"></div><div class="link_content"><div class="link_title">Butterfly魔改：自定义右键菜单</div><div class="link_desc">这篇博文讲解了如何在Hexo博客中添加自定义的右键菜单，包含遮罩、超链接样式和繁简切换功能，然后提供了CSS和JS代码供参考。本文基于原版链接进行了魔改，实现了Acrylic风格的右键菜单。</div></div></a><a href="https://butterfly.zhheo.com/window.html#%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95" rel="external nofollow noreferrer" target="_blank" title="Butterfly主题美化教程" referrerpolicy="no-referrer" class="link_card"><div class="link_icon"><img src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://bu.dusays.com/2023/03/03/6401a7934a918.png" class="no-lightbox"></div><div class="link_content"><div class="link_title">Butterfly主题美化教程</div><div class="link_desc">Butterfly主题美化教程</div></div></a><a href="https://api.qjqq.cn/" rel="external nofollow noreferrer" target="_blank" title="青桔-API" referrerpolicy="no-referrer" class="link_card"><div class="link_icon"><img src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://api.qjqq.cn/assets/img/favicons/favicon.ico" class="no-lightbox"></div><div class="link_content"><div class="link_title">青桔-API</div><div class="link_desc">致力于为用户提供稳定、快速的免费API数据接口服务。</div></div></a></article><div class="icat-license"><div class="icat-license-title">Butterfly的魔改教程：右键菜单</div><div class="icat-license-link"><a href="https://vercel.meuicat.com/blog/86/">https://vercel.meuicat.com/blog/86/</a></div><div class="icat-license-meta"><div class="icat-license-meta-item"><div class="icat-license-meta-title">本文作者</div><div class="icat-license-meta-text"><a target="_blank" rel="noopener" href="https://github.com/yife68">亦小封</a></div></div><div class="icat-license-meta-item"><div class="icat-license-meta-title">最后更新</div><div class="icat-license-meta-text">2024-04-10</div></div><div class="icat-license-meta-item"><div class="icat-license-meta-title">许可协议</div><div class="icat-license-meta-text"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow noopener noreferrer" target="_blank">CC BY-NC-SA 4.0</a></div></div></div><div class="icat-license-tips">此文章版权归 MeuiCat 所有，如有转载，请註明来自原作者！</div></div><div class="icat-post-function"><div class="post-function-box"><div class="post-reward"><div class="reward-button"><i class="iconfont icat-gift"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://img.meuicat.com/blog/wechat.webp" target="_blank"><img class="post-qr-code-img" src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://img.meuicat.com/blog/wechat.webp" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://img.meuicat.com/blog/alipay.webp" target="_blank"><img class="post-qr-code-img" src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://img.meuicat.com/blog/alipay.webp" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-btn-aifadian" href="https://afdian.net/a/yife68" target="_blank"><i class="iconfont icat-aifadian"></i><div class="reward-text">我的爱发电</div></a><a class="reward-btn" href="/about/#name-list" target="_blank"><div class="reward-text">打赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></ul></div></div><a class="post-follow-btn rss-plan-mail"><i class="iconfont icat-subscribe-to"></i>订阅</a><a class="post-cc-btn" href="/cc/" target="_blank"><i class="iconfont icat-operate"></i>运营模式与责任</a></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Butterfly%E4%B8%BB%E9%A2%98/">Butterfly主题</a><a class="post-meta__tags" href="/tags/%E9%AD%94%E6%94%B9%E8%AE%B0%E5%BD%95/">魔改记录</a></div></div><form id="follow" action="https://api.follow.it/subscribe?pub=YDgVmI6K0mm9l1_CRzUY_g" method="post" target="_blank"><div class="follow-it-form-subscribe" style="position:relative"><div class="heading"><h5 style="font-weight:700;text-align:center">订阅本站文章：</h5></div><div class="input-field"><input type="email" name="email" placeholder="填入您的邮箱地址" spellcheck="false"></div><div class="submit-button"><button type="submit" onclick='ga("send","event","Form","Submit","Affiliate")' style="font-weight:700;font-size:14px;text-align:center">确认订阅</button></div></div></form><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blog/87/" title="前端分享 - 滑动阻尼效果"><img class="cover" src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://img.meuicat.com/posts/2024/5/1.webp" onerror='onerror=null,src="https://img.meuicat.com/blog/default.webp"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">前端分享 - 滑动阻尼效果</div></div></a></div><div class="next-post pull-right"><a href="/blog/85/" title="音乐分享 - doi微醺氛围"><img class="cover" src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://img.meuicat.com/posts/2024/3/1.webp" onerror='onerror=null,src="https://img.meuicat.com/blog/default.webp"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">音乐分享 - doi微醺氛围</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="iconfont icat-thumbs fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/blog/1/" title="Butterfly的魔改教程：导航栏魔改美化"><img class="cover" src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://img.meuicat.com/posts/icat-circular.webp" alt="cover"><div class="content is-center"><div class="date"><i class="iconfont icat-calendar fa-fw"></i> 2021-10-19</div><div class="title">Butterfly的魔改教程：导航栏魔改美化</div></div></a></div><div><a href="/blog/38/" title="重构记录 - 3"><img class="cover" src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://img.meuicat.com/posts/hexo-square.webp" alt="cover"><div class="content is-center"><div class="date"><i class="iconfont icat-calendar fa-fw"></i> 2023-02-18</div><div class="title">重构记录 - 3</div></div></a></div><div><a href="/blog/42/" title="重构记录 - 4"><img class="cover" src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://img.meuicat.com/posts/icat-square.webp" alt="cover"><div class="content is-center"><div class="date"><i class="iconfont icat-calendar fa-fw"></i> 2023-03-19</div><div class="title">重构记录 - 4</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="iconfont icat-message"></i> <span>评论</span></div><div class="comment-privacy"><a href="/privacy/" data-pjax-state="data-pjax-state">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img.meuicat.com/blog/loading.svg" data-lazy-src="https://bu.dusays.com/2024/04/25/662953b6d9923.jpg" onerror='this.onerror=null,this.src="https://img.meuicat.com/blog/loading.svg"' alt="avatar"></div><div class="author-info__name">亦小封</div><div class="author-info__description">足够优秀 再大方拥有.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">88</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">43</div></a><a href="/comments/"><div class="headline">评论</div><div class="length-num icat-pc-comment"><i class="fa-solid iconfont icat-spinner fa-spin"></i></div></a></div><a id="card-info-btn" href="/subscribe/"><span>订阅本站</span></a><div class="social-btn"><i class="iconfont icat-angle-down-new"></i></div><div class="card-info-social-icons is-center"><div class="social-title">社交账号</div><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2714344056" target="_blank" title="QQ账号：2714344056"><i class="iconfont icat-qq"></i>QQ</a><a class="social-icon" href="https://github.com/yife68" target="_blank" title="GitHub账号：yife68"><i class="iconfont icat-GitHub"></i>GitHub</a><a class="social-icon" href="https://t.me/yife68" target="_blank" title="TG账号：yife68"><i class="iconfont icat-tg"></i>TG</a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas iconfont icat-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Hello, Welcome to iCat.<br>My sharing blog.</div></div><div class="card-widget" id="card-wechat" onclick="meuicat.Weixin()"><div id="flip-wrapper"><div id="flip-content"><div class="face"></div><div class="back face"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="iconfont icat-toc"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88"><span class="toc-number">1.</span> <span class="toc-text">效果预览</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE"><span class="toc-number">2.</span> <span class="toc-text">创建数据</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E4%B8%89%E9%87%8D%E6%9B%B2"><span class="toc-number">3.</span> <span class="toc-text">声明三重曲</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%90%E7%A7%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.1.</span> <span class="toc-text">隐私协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookies%E6%94%BF%E7%AD%96"><span class="toc-number">3.2.</span> <span class="toc-text">Cookies政策</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%88%E6%9D%83%E5%8D%8F%E8%AE%AE"><span class="toc-number">3.3.</span> <span class="toc-text">版权协议</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-number">4.</span> <span class="toc-text">参考文献</span></a></li></ol></div></div></div></div></main><div class="comment-barrage"></div><footer id="footer"><div id="footer-wrap"><div class="footer-left"><span>&copy;2021 - 2024 By<a target="_blank" href="/update/" title="关于MeuiCat历程" style="margin-left:5px">MeuiCat</a></span><div class="footer-box"><a class="footer-link" target="_blank" href="https://www.foreverblog.cn/blog/4006.html" title="十年之约">十年之约</a><a class="footer-link" target="_blank" href="https://storeweb.cn/site/o/1674" title="个站商店">个站商店</a><a class="footer-link" target="_blank" href="https://sites.link/site-info?siteType=life&amp;siteId=64775163ea53c100a9b742ba" title="站点聚合平台">站点聚合</a><a class="footer-link" target="_blank" href="https://bf.zzxworld.com/s/876" title="BlogFinder">BlogFinder</a></div></div><div class="footer-right"><div class="footer-box"><a class="footer-link" target="_blank" href="https://www.dogecloud.com/?iuid=5660" title="本站使用多吉云为静态资源提供CDN加速">多吉云</a><a class="footer-link" target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" title="本网站由又拍云提供CDN加速/云存储服务">又拍云</a><a class="footer-link" target="_blank" href="https://img.meuicat.com/" title="本站由无畏云提供文章图源服务">无畏云</a></div><div class="footer-box"><a class="footer-link" target="_blank" href="https://hexo.io/" title="框架版本：6.3.0">Hexo</a><a class="footer-link" target="_blank" href="https://github.com/jerryc127/hexo-theme-butterfly/" title="主题版本：4.9.0">Butterfly</a><a class="footer-link" target="_blank" href="https://beian.miit.gov.cn/" title="ICP备案号">粤ICP备2022035648号-1</a></div></div></div></footer></div><div id="Fun-menu"><button id="lntelligent-reply" type="button" title="咨询关于博客文章的任何问题"><i class="iconfont icat-Ai-reply"></i><span>智能助手</span></button></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="iconfont icat-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas iconfont icat-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="iconfont icat-adjust"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="iconfont icat-message"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="iconfont icat-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.staticfile.net/fancyapps-ui/5.0.19/fancybox/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.meuicat.com/",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const t=document.getElementById("twikoo-count");t&&twikoo.getCommentsCount({envId:"https://twikoo.meuicat.com/",region:"",urls:[window.location.pathname],includeReply:!0}).then((function(o){t.textContent=o[0].count})).catch((function(t){console.error(t)}))})()},o=()=>{"object"!=typeof twikoo?getScript("https://cdn.staticfile.net/twikoo/1.6.32/twikoo.all.min.js").then(t):setTimeout(t,0)};o()})()</script></div><script>var meting_api="https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r"</script><script src="https://cdn.staticfile.net/wow/1.1.2/wow.min.js"></script><script async src="https://cdn.meuicat.com/gh/yife/waterfall.js@0.0.1/waterfall.min.js"></script><script src="https://cdn.meuicat.com/gh/jquery/jquery@3.6.3/jquery.min.js"></script><script src="https://cdn.staticfile.net/Swiper/10.3.1/swiper-bundle.min.js"></script><script src="/js/function.js"></script><script defer src="/js/meuicat.js"></script><script async src="/icat/random.js"></script><script async data-pjax src="/js/commentBarrage.js"></script><script async src="https://cdn.staticfile.net/smoothscroll/1.4.10/SmoothScroll.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.meuicat.com/gh/aplayer/aplayer@1.10.1/APlayer.min.js"></script><script src="https://cdn.meuicat.com/gh/meting/meting@2.0.1/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/charts/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script async data-pjax src="https://cdn.meuicat.com/gh/yife/busuanzi@2.7.5/bsz.min.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.staticfile.net/algoliasearch/4.18.0/algoliasearch.umd.min.js"></script><script src="https://cdn.staticfile.net/instantsearch.js/4.56.1/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div><div class="js-pjax"><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="iconfont icat-angle-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="iconfont icat-angle-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="iconfont icat-refresh"></i></div><div class="rightMenu-item" id="menu-darkmode"><i class="iconfont icat-changing-over"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPost"><div class="rightMenu-item" id="menu-reading"><i class="iconfont icat-read"></i><span>阅读模式</span></div><div class="rightMenu-item" id="menu-commentBarrage"><i class="iconfont icat-danmu"></i><span>热评开关</span></div><div class="rightMenu-item" id="menu-postlink"><i class="iconfont icat-copy-paste"></i><span>复制本文地址</span></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="iconfont icat-copy-paste"></i><span>复制内容</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="iconfont icat-clipboar"></i><span>粘贴内容</span></div><div class="rightMenu-item" id="menu-commenttext"><i class="iconfont icat-message"></i><span>引用评论</span></div><div class="rightMenu-item" id="menu-search"><i class="iconfont icat-search"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="iconfont icat-baidu"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-newwindow"><i class="iconfont icat-new-window"></i><span>新建窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="iconfont icat-jump-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="iconfont icat-copy-paste"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="iconfont icat-download-save"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-copylinkimg"><i class="iconfont icat-jump-link"></i><span>复制图片链接</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-randomPost"><i class="iconfont icat-random"></i><span>随便逛逛</span></a><a class="rightMenu-item" id="menu-translate"><i class="iconfont icat-simple-complex"></i><span>繁简转换</span></a><div class="rightMenu-item" id="menu-asidehide"><i class="iconfont icat-danmu"></i><span>边栏控制</span></div></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="/privacy/"><i class="iconfont icat-conceal"></i><span>隐私协议</span></a><a class="rightMenu-item" href="/cc/"><i class="iconfont icat-cc"></i><span>版权协议</span></a></div></div><div id="rightMenu-mask"></div></div></body></html>